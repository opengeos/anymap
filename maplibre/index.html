
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A Python package for creating interactive maps with anywidget and JavaScript mapping libraries">
      
      
        <meta name="author" content="giswqs">
      
      
        <link rel="canonical" href="https://anymap.dev/maplibre/">
      
      
        <link rel="prev" href="../mapbox/">
      
      
        <link rel="next" href="../openlayers/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>maplibre module - anymap</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CRegular:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Google Sans";--md-code-font:"Regular"}</style>
      
    
    
      <link rel="stylesheet" href="../css/timeago.css">
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#maplibre-module" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="anymap" class="md-header__button md-logo" aria-label="anymap" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            anymap
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              maplibre module
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/opengeos/anymap" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="anymap" class="md-nav__button md-logo" aria-label="anymap" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    anymap
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/opengeos/anymap" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/opengeos/anymap/issues" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Report Issues
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/basic_usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/maplibre_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Maplibre example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/mapbox_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mapbox example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/leaflet_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Leaflet example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/openlayers_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Openlayers example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/cesium_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cesium example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/deckgl_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deckgl example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/keplergl_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Keplergl example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/potree_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Potree example
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../anymap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    anymap module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    base module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cesium/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cesium module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../compare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    compare module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deckgl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    deckgl module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../keplergl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    keplergl module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../leaflet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    leaflet module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mapbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mapbox module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    maplibre module
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    maplibre module
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre" class="md-nav__link">
    <span class="md-ellipsis">
      anymap.maplibre
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre.Container" class="md-nav__link">
    <span class="md-ellipsis">
      Container
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Container">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.add_to_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      add_to_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.create_map" class="md-nav__link">
    <span class="md-ellipsis">
      create_map()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.remove_from_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      remove_from_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.set_sidebar_content" class="md-nav__link">
    <span class="md-ellipsis">
      set_sidebar_content()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.set_sidebar_width" class="md-nav__link">
    <span class="md-ellipsis">
      set_sidebar_width()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.toggle_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      toggle_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.update_sidebar_content" class="md-nav__link">
    <span class="md-ellipsis">
      update_sidebar_content()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre.CustomWidget" class="md-nav__link">
    <span class="md-ellipsis">
      CustomWidget
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CustomWidget">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.CustomWidget.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.CustomWidget.add_widget" class="md-nav__link">
    <span class="md-ellipsis">
      add_widget()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.CustomWidget.remove_widget" class="md-nav__link">
    <span class="md-ellipsis">
      remove_widget()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.CustomWidget.set_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      set_widgets()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget" class="md-nav__link">
    <span class="md-ellipsis">
      LayerManagerWidget
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LayerManagerWidget">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget.build_layer_controls" class="md-nav__link">
    <span class="md-ellipsis">
      build_layer_controls()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget.refresh" class="md-nav__link">
    <span class="md-ellipsis">
      refresh()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget.set_layer_opacity" class="md-nav__link">
    <span class="md-ellipsis">
      set_layer_opacity()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget.set_layer_visibility" class="md-nav__link">
    <span class="md-ellipsis">
      set_layer_visibility()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget.toggle_all_layers" class="md-nav__link">
    <span class="md-ellipsis">
      toggle_all_layers()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget.toggle_group_layers" class="md-nav__link">
    <span class="md-ellipsis">
      toggle_group_layers()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerStyleWidget" class="md-nav__link">
    <span class="md-ellipsis">
      LayerStyleWidget
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap" class="md-nav__link">
    <span class="md-ellipsis">
      MapLibreMap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MapLibreMap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.sidebar_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      sidebar_widgets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_basemap" class="md-nav__link">
    <span class="md-ellipsis">
      add_basemap()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_geojson_layer" class="md-nav__link">
    <span class="md-ellipsis">
      add_geojson_layer()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_image_layer" class="md-nav__link">
    <span class="md-ellipsis">
      add_image_layer()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_layer" class="md-nav__link">
    <span class="md-ellipsis">
      add_layer()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_marker" class="md-nav__link">
    <span class="md-ellipsis">
      add_marker()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_tile_layer" class="md-nav__link">
    <span class="md-ellipsis">
      add_tile_layer()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_to_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      add_to_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_vector_layer" class="md-nav__link">
    <span class="md-ellipsis">
      add_vector_layer()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.create_container" class="md-nav__link">
    <span class="md-ellipsis">
      create_container()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.fit_bounds" class="md-nav__link">
    <span class="md-ellipsis">
      fit_bounds()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.get_layer_type" class="md-nav__link">
    <span class="md-ellipsis">
      get_layer_type()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.get_style" class="md-nav__link">
    <span class="md-ellipsis">
      get_style()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.get_style_layers" class="md-nav__link">
    <span class="md-ellipsis">
      get_style_layers()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.remove_from_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      remove_from_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_bearing" class="md-nav__link">
    <span class="md-ellipsis">
      set_bearing()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_layout_property" class="md-nav__link">
    <span class="md-ellipsis">
      set_layout_property()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_opacity" class="md-nav__link">
    <span class="md-ellipsis">
      set_opacity()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_paint_property" class="md-nav__link">
    <span class="md-ellipsis">
      set_paint_property()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_pitch" class="md-nav__link">
    <span class="md-ellipsis">
      set_pitch()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_sidebar_content" class="md-nav__link">
    <span class="md-ellipsis">
      set_sidebar_content()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_sidebar_width" class="md-nav__link">
    <span class="md-ellipsis">
      set_sidebar_width()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_style" class="md-nav__link">
    <span class="md-ellipsis">
      set_style()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_visibility" class="md-nav__link">
    <span class="md-ellipsis">
      set_visibility()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.show" class="md-nav__link">
    <span class="md-ellipsis">
      show()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../openlayers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    openlayers module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../potree/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    potree module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils module
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre" class="md-nav__link">
    <span class="md-ellipsis">
      anymap.maplibre
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre.Container" class="md-nav__link">
    <span class="md-ellipsis">
      Container
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Container">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.add_to_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      add_to_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.create_map" class="md-nav__link">
    <span class="md-ellipsis">
      create_map()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.remove_from_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      remove_from_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.set_sidebar_content" class="md-nav__link">
    <span class="md-ellipsis">
      set_sidebar_content()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.set_sidebar_width" class="md-nav__link">
    <span class="md-ellipsis">
      set_sidebar_width()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.toggle_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      toggle_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.Container.update_sidebar_content" class="md-nav__link">
    <span class="md-ellipsis">
      update_sidebar_content()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre.CustomWidget" class="md-nav__link">
    <span class="md-ellipsis">
      CustomWidget
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CustomWidget">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.CustomWidget.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.CustomWidget.add_widget" class="md-nav__link">
    <span class="md-ellipsis">
      add_widget()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.CustomWidget.remove_widget" class="md-nav__link">
    <span class="md-ellipsis">
      remove_widget()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.CustomWidget.set_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      set_widgets()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget" class="md-nav__link">
    <span class="md-ellipsis">
      LayerManagerWidget
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LayerManagerWidget">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget.build_layer_controls" class="md-nav__link">
    <span class="md-ellipsis">
      build_layer_controls()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget.refresh" class="md-nav__link">
    <span class="md-ellipsis">
      refresh()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget.set_layer_opacity" class="md-nav__link">
    <span class="md-ellipsis">
      set_layer_opacity()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget.set_layer_visibility" class="md-nav__link">
    <span class="md-ellipsis">
      set_layer_visibility()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget.toggle_all_layers" class="md-nav__link">
    <span class="md-ellipsis">
      toggle_all_layers()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerManagerWidget.toggle_group_layers" class="md-nav__link">
    <span class="md-ellipsis">
      toggle_group_layers()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre.LayerStyleWidget" class="md-nav__link">
    <span class="md-ellipsis">
      LayerStyleWidget
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap" class="md-nav__link">
    <span class="md-ellipsis">
      MapLibreMap
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MapLibreMap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.sidebar_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      sidebar_widgets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_basemap" class="md-nav__link">
    <span class="md-ellipsis">
      add_basemap()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_geojson_layer" class="md-nav__link">
    <span class="md-ellipsis">
      add_geojson_layer()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_image_layer" class="md-nav__link">
    <span class="md-ellipsis">
      add_image_layer()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_layer" class="md-nav__link">
    <span class="md-ellipsis">
      add_layer()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_marker" class="md-nav__link">
    <span class="md-ellipsis">
      add_marker()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_tile_layer" class="md-nav__link">
    <span class="md-ellipsis">
      add_tile_layer()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_to_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      add_to_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.add_vector_layer" class="md-nav__link">
    <span class="md-ellipsis">
      add_vector_layer()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.create_container" class="md-nav__link">
    <span class="md-ellipsis">
      create_container()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.fit_bounds" class="md-nav__link">
    <span class="md-ellipsis">
      fit_bounds()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.get_layer_type" class="md-nav__link">
    <span class="md-ellipsis">
      get_layer_type()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.get_style" class="md-nav__link">
    <span class="md-ellipsis">
      get_style()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.get_style_layers" class="md-nav__link">
    <span class="md-ellipsis">
      get_style_layers()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.remove_from_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      remove_from_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_bearing" class="md-nav__link">
    <span class="md-ellipsis">
      set_bearing()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_layout_property" class="md-nav__link">
    <span class="md-ellipsis">
      set_layout_property()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_opacity" class="md-nav__link">
    <span class="md-ellipsis">
      set_opacity()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_paint_property" class="md-nav__link">
    <span class="md-ellipsis">
      set_paint_property()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_pitch" class="md-nav__link">
    <span class="md-ellipsis">
      set_pitch()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_sidebar_content" class="md-nav__link">
    <span class="md-ellipsis">
      set_sidebar_content()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_sidebar_width" class="md-nav__link">
    <span class="md-ellipsis">
      set_sidebar_width()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_style" class="md-nav__link">
    <span class="md-ellipsis">
      set_style()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.set_visibility" class="md-nav__link">
    <span class="md-ellipsis">
      set_visibility()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre.MapLibreMap.show" class="md-nav__link">
    <span class="md-ellipsis">
      show()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                



                  


  
  


<h1 id="maplibre-module">maplibre module<a class="headerlink" href="#maplibre-module" title="Permanent link">&para;</a></h1>


  <div class="doc doc-object doc-module">

<a id="anymap.maplibre"></a>
    <div class="doc doc-contents first">

      <p>MapLibre GL JS implementation of the map widget.</p>
<p>This module provides the MapLibreMap class which implements an interactive map
widget using the MapLibre GL JS library. MapLibre GL JS is an open-source fork
of Mapbox GL JS, providing fast vector map rendering with WebGL.</p>
<div class="admonition classes">
<p class="admonition-title">Classes</p>
<p>MapLibreMap: Main map widget class for MapLibre GL JS.</p>
</div>

<p><strong>Examples:</strong></p>
    <p>Basic usage of MapLibreMap:</p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">anymap.maplibre</span><span class="w"> </span><span class="kn">import</span> <span class="n">MapLibreMap</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">MapLibreMap</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">40.7</span><span class="p">,</span> <span class="o">-</span><span class="mf">74.0</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="s2">&quot;OpenStreetMap.Mapnik&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span>
</code></pre></div>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h2 id="anymap.maplibre.Container" class="doc doc-heading">
        <code>
Container            (<span title="ipyvuetify.generated.Container.Container">Container</span>)
        </code>



<a href="#anymap.maplibre.Container" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>A container widget for displaying a map with an optional sidebar.</p>
<p>This class creates a layout with a map on the left and a sidebar on the right.
The sidebar can be toggled on or off and can display additional content.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sidebar_visible</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the sidebar is visible.</p></td>
      </tr>
      <tr>
        <td><code>min_width</code></td>
        <td><code>int</code></td>
        <td><p>Minimum width of the sidebar in pixels.</p></td>
      </tr>
      <tr>
        <td><code>max_width</code></td>
        <td><code>int</code></td>
        <td><p>Maximum width of the sidebar in pixels.</p></td>
      </tr>
      <tr>
        <td><code>map_container</code></td>
        <td><code>v.Col</code></td>
        <td><p>The container for the map.</p></td>
      </tr>
      <tr>
        <td><code>sidebar_content_box</code></td>
        <td><code>widgets.VBox</code></td>
        <td><p>The container for the sidebar content.</p></td>
      </tr>
      <tr>
        <td><code>toggle_icon</code></td>
        <td><code>v.Icon</code></td>
        <td><p>The icon for the toggle button.</p></td>
      </tr>
      <tr>
        <td><code>toggle_btn</code></td>
        <td><code>v.Btn</code></td>
        <td><p>The button to toggle the sidebar.</p></td>
      </tr>
      <tr>
        <td><code>sidebar</code></td>
        <td><code>v.Col</code></td>
        <td><p>The container for the sidebar.</p></td>
      </tr>
      <tr>
        <td><code>row</code></td>
        <td><code>v.Row</code></td>
        <td><p>The main layout row containing the map and sidebar.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Container</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">Container</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A container widget for displaying a map with an optional sidebar.</span>

<span class="sd">    This class creates a layout with a map on the left and a sidebar on the right.</span>
<span class="sd">    The sidebar can be toggled on or off and can display additional content.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        sidebar_visible (bool): Whether the sidebar is visible.</span>
<span class="sd">        min_width (int): Minimum width of the sidebar in pixels.</span>
<span class="sd">        max_width (int): Maximum width of the sidebar in pixels.</span>
<span class="sd">        map_container (v.Col): The container for the map.</span>
<span class="sd">        sidebar_content_box (widgets.VBox): The container for the sidebar content.</span>
<span class="sd">        toggle_icon (v.Icon): The icon for the toggle button.</span>
<span class="sd">        toggle_btn (v.Btn): The button to toggle the sidebar.</span>
<span class="sd">        sidebar (v.Col): The container for the sidebar.</span>
<span class="sd">        row (v.Row): The main layout row containing the map and sidebar.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">host_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sidebar_visible</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">250</span><span class="p">,</span>
        <span class="n">max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
        <span class="n">sidebar_content</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the Container widget.</span>

<span class="sd">        Args:</span>
<span class="sd">            host_map (Optional[Any]): The map object to display in the container. Defaults to None.</span>
<span class="sd">            sidebar_visible (bool): Whether the sidebar is visible. Defaults to True.</span>
<span class="sd">            min_width (int): Minimum width of the sidebar in pixels. Defaults to 250.</span>
<span class="sd">            max_width (int): Maximum width of the sidebar in pixels. Defaults to 300.</span>
<span class="sd">            sidebar_content (Optional[Union[widgets.VBox, List[widgets.Widget]]]):</span>
<span class="sd">                The content to display in the sidebar. Defaults to None.</span>
<span class="sd">            *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span> <span class="o">=</span> <span class="n">sidebar_visible</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_width</span> <span class="o">=</span> <span class="n">min_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_width</span> <span class="o">=</span> <span class="n">max_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">host_map</span> <span class="o">=</span> <span class="n">host_map</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Map display container (left column)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">map_container</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
            <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;pa-1&quot;</span><span class="p">,</span>
            <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;flex-grow: 1; flex-shrink: 1; flex-basis: 0;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">map_container</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">host_map</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_map</span><span class="p">()]</span>

        <span class="c1"># Sidebar content container (mutable VBox)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">sidebar_content</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_sidebar_content</span><span class="p">(</span><span class="n">sidebar_content</span><span class="p">)</span>

        <span class="c1"># Toggle button</span>
        <span class="k">if</span> <span class="n">sidebar_visible</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;mdi-chevron-right&quot;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;mdi-chevron-left&quot;</span><span class="p">])</span>  <span class="c1"># default icon</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
            <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span><span class="p">],</span>
            <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;width: 48px; height: 48px; min-width: 48px;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggle_sidebar</span><span class="p">)</span>

        <span class="c1"># Settings icon</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_icon</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;mdi-wrench&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
            <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_icon</span><span class="p">],</span>
            <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;width: 36px; height: 36px;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggle_width_slider</span><span class="p">)</span>

        <span class="c1"># Sidebar controls row (toggle + settings)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_controls</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
            <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0 pa-0&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="c1"># Sidebar width slider (initially hidden)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_width</span><span class="p">,</span>
            <span class="nb">min</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
            <span class="nb">max</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
            <span class="n">step</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Width:&quot;</span><span class="p">,</span>
            <span class="n">continuous_update</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_width_change</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">settings_widget</span> <span class="o">=</span> <span class="n">CustomWidget</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span><span class="p">,</span>
            <span class="n">widget_icon</span><span class="o">=</span><span class="s2">&quot;mdi-cog&quot;</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Sidebar Settings&quot;</span><span class="p">,</span>
            <span class="n">host_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">host_map</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Sidebar (right column)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;pa-1&quot;</span><span class="p">,</span> <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;overflow-y: hidden;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_sidebar_content</span><span class="p">()</span>

        <span class="c1"># Main layout row</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">row</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
            <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;d-flex flex-nowrap&quot;</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">map_container</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">fluid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_map</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a default map object.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Any: A default map object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">toggle_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggles the visibility of the sidebar.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args (Any): Additional positional arguments.</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;mdi-chevron-right&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span> <span class="k">else</span> <span class="s2">&quot;mdi-chevron-left&quot;</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_sidebar_content</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update_sidebar_content</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the content of the sidebar based on its visibility.</span>
<span class="sd">        If the sidebar is visible, it displays the toggle button and the sidebar content.</span>
<span class="sd">        If the sidebar is hidden, it only displays the toggle button.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span><span class="p">:</span>
            <span class="c1"># Header row: toggle on the left, settings on the right</span>
            <span class="n">header_row</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0 pa-0&quot;</span><span class="p">,</span>
                <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;space-between&quot;</span><span class="p">,</span>
                <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span><span class="p">],</span>
            <span class="p">)</span>

            <span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">header_row</span><span class="p">]</span>

            <span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">children</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">style_</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;min-width: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_width</span><span class="si">}</span><span class="s2">px; max-width: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_width</span><span class="si">}</span><span class="s2">px;&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">style_</span> <span class="o">=</span> <span class="s2">&quot;width: 48px; min-width: 48px; max-width: 48px;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_sidebar_content</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Replaces all content in the sidebar (except the toggle button).</span>

<span class="sd">        Args:</span>
<span class="sd">            content (Union[widgets.VBox, List[widgets.Widget]]): The new content for the sidebar.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">content</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">content</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_to_sidebar</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">,</span>
        <span class="n">add_header</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">widget_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-tools&quot;</span><span class="p">,</span>
        <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
        <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;My Tools&quot;</span><span class="p">,</span>
        <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
        <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">host_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Appends a widget to the sidebar content.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget (Optional[Union[widgets.Widget, List[widgets.Widget]]]): Initial widget(s) to display in the content box.</span>
<span class="sd">            widget_icon (str): Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">            close_icon (str): Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">            background_color (str): Background color of the header. Defaults to &quot;#f5f5f5&quot;.</span>
<span class="sd">            label (str): Text label for the header. Defaults to &quot;My Tools&quot;.</span>
<span class="sd">            height (str): Height of the header. Defaults to &quot;40px&quot;.</span>
<span class="sd">            expanded (bool): Whether the panel is expanded by default. Defaults to True.</span>
<span class="sd">            *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">label</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">add_header</span><span class="p">:</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="n">CustomWidget</span><span class="p">(</span>
                <span class="n">widget</span><span class="p">,</span>
                <span class="n">widget_icon</span><span class="o">=</span><span class="n">widget_icon</span><span class="p">,</span>
                <span class="n">close_icon</span><span class="o">=</span><span class="n">close_icon</span><span class="p">,</span>
                <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
                <span class="n">background_color</span><span class="o">=</span><span class="n">background_color</span><span class="p">,</span>
                <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
                <span class="n">expanded</span><span class="o">=</span><span class="n">expanded</span><span class="p">,</span>
                <span class="n">host_map</span><span class="o">=</span><span class="n">host_map</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">+=</span> <span class="p">(</span><span class="n">widget</span><span class="p">,)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">remove_from_sidebar</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes a widget from the sidebar content.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget (widgets.Widget): The widget to remove from the sidebar.</span>
<span class="sd">            name (str): The name of the widget to remove from the sidebar.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">key</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">widget</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="k">if</span> <span class="n">key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
            <span class="n">child</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="n">child</span> <span class="o">!=</span> <span class="n">widget</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_sidebar_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Dynamically updates the sidebar&#39;s minimum and maximum width.</span>

<span class="sd">        Args:</span>
<span class="sd">            min_width (int, optional): New minimum width in pixels. If None, keep current.</span>
<span class="sd">            max_width (int, optional): New maximum width in pixels. If None, keep current.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">min_width</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">min_width</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">min_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">min_width</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">min_width</span> <span class="o">=</span> <span class="n">min_width</span>
        <span class="k">if</span> <span class="n">max_width</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">max_width</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">max_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">max_width</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">max_width</span> <span class="o">=</span> <span class="n">max_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_sidebar_content</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">toggle_width_slider</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_widget</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_to_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_widget</span><span class="p">,</span> <span class="n">add_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">on_width_change</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">new_width</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_sidebar_width</span><span class="p">(</span><span class="n">min_width</span><span class="o">=</span><span class="n">new_width</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="n">new_width</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.Container.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">host_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sidebar_visible</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">sidebar_content</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#anymap.maplibre.Container.__init__" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Initializes the Container widget.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>host_map</code></td>
        <td><code>Optional[Any]</code></td>
        <td><p>The map object to display in the container. Defaults to None.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>sidebar_visible</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the sidebar is visible. Defaults to True.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>min_width</code></td>
        <td><code>int</code></td>
        <td><p>Minimum width of the sidebar in pixels. Defaults to 250.</p></td>
        <td><code>250</code></td>
      </tr>
      <tr>
        <td><code>max_width</code></td>
        <td><code>int</code></td>
        <td><p>Maximum width of the sidebar in pixels. Defaults to 300.</p></td>
        <td><code>300</code></td>
      </tr>
      <tr>
        <td><code>sidebar_content</code></td>
        <td><code>Optional[Union[widgets.VBox, List[widgets.Widget]]]</code></td>
        <td><p>The content to display in the sidebar. Defaults to None.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional positional arguments for the parent class.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments for the parent class.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">host_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">sidebar_visible</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">250</span><span class="p">,</span>
    <span class="n">max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
    <span class="n">sidebar_content</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the Container widget.</span>

<span class="sd">    Args:</span>
<span class="sd">        host_map (Optional[Any]): The map object to display in the container. Defaults to None.</span>
<span class="sd">        sidebar_visible (bool): Whether the sidebar is visible. Defaults to True.</span>
<span class="sd">        min_width (int): Minimum width of the sidebar in pixels. Defaults to 250.</span>
<span class="sd">        max_width (int): Maximum width of the sidebar in pixels. Defaults to 300.</span>
<span class="sd">        sidebar_content (Optional[Union[widgets.VBox, List[widgets.Widget]]]):</span>
<span class="sd">            The content to display in the sidebar. Defaults to None.</span>
<span class="sd">        *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span> <span class="o">=</span> <span class="n">sidebar_visible</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">min_width</span> <span class="o">=</span> <span class="n">min_width</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">max_width</span> <span class="o">=</span> <span class="n">max_width</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">host_map</span> <span class="o">=</span> <span class="n">host_map</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Map display container (left column)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">map_container</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
        <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;pa-1&quot;</span><span class="p">,</span>
        <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;flex-grow: 1; flex-shrink: 1; flex-basis: 0;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">map_container</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">host_map</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_map</span><span class="p">()]</span>

    <span class="c1"># Sidebar content container (mutable VBox)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">sidebar_content</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_sidebar_content</span><span class="p">(</span><span class="n">sidebar_content</span><span class="p">)</span>

    <span class="c1"># Toggle button</span>
    <span class="k">if</span> <span class="n">sidebar_visible</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;mdi-chevron-right&quot;</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;mdi-chevron-left&quot;</span><span class="p">])</span>  <span class="c1"># default icon</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
        <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span><span class="p">],</span>
        <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;width: 48px; height: 48px; min-width: 48px;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggle_sidebar</span><span class="p">)</span>

    <span class="c1"># Settings icon</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">settings_icon</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;mdi-wrench&quot;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
        <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_icon</span><span class="p">],</span>
        <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;width: 36px; height: 36px;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggle_width_slider</span><span class="p">)</span>

    <span class="c1"># Sidebar controls row (toggle + settings)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_controls</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0 pa-0&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># Sidebar width slider (initially hidden)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span>
        <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_width</span><span class="p">,</span>
        <span class="nb">min</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
        <span class="nb">max</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
        <span class="n">step</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Width:&quot;</span><span class="p">,</span>
        <span class="n">continuous_update</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_width_change</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">settings_widget</span> <span class="o">=</span> <span class="n">CustomWidget</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span><span class="p">,</span>
        <span class="n">widget_icon</span><span class="o">=</span><span class="s2">&quot;mdi-cog&quot;</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Sidebar Settings&quot;</span><span class="p">,</span>
        <span class="n">host_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">host_map</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Sidebar (right column)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;pa-1&quot;</span><span class="p">,</span> <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;overflow-y: hidden;&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_sidebar_content</span><span class="p">()</span>

    <span class="c1"># Main layout row</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">row</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;d-flex flex-nowrap&quot;</span><span class="p">,</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">map_container</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="p">],</span>
    <span class="p">)</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">fluid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.Container.add_to_sidebar" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_to_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">add_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">widget_icon</span><span class="o">=</span><span class="s1">&#39;mdi-tools&#39;</span><span class="p">,</span> <span class="n">close_icon</span><span class="o">=</span><span class="s1">&#39;mdi-close&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;My Tools&#39;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;#f5f5f5&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;40px&#39;</span><span class="p">,</span> <span class="n">expanded</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">host_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


<a href="#anymap.maplibre.Container.add_to_sidebar" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Appends a widget to the sidebar content.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>widget</code></td>
        <td><code>Optional[Union[widgets.Widget, List[widgets.Widget]]]</code></td>
        <td><p>Initial widget(s) to display in the content box.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>widget_icon</code></td>
        <td><code>str</code></td>
        <td><p>Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</p></td>
        <td><code>&#39;mdi-tools&#39;</code></td>
      </tr>
      <tr>
        <td><code>close_icon</code></td>
        <td><code>str</code></td>
        <td><p>Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</p></td>
        <td><code>&#39;mdi-close&#39;</code></td>
      </tr>
      <tr>
        <td><code>background_color</code></td>
        <td><code>str</code></td>
        <td><p>Background color of the header. Defaults to "#f5f5f5".</p></td>
        <td><code>&#39;#f5f5f5&#39;</code></td>
      </tr>
      <tr>
        <td><code>label</code></td>
        <td><code>str</code></td>
        <td><p>Text label for the header. Defaults to "My Tools".</p></td>
        <td><code>&#39;My Tools&#39;</code></td>
      </tr>
      <tr>
        <td><code>height</code></td>
        <td><code>str</code></td>
        <td><p>Height of the header. Defaults to "40px".</p></td>
        <td><code>&#39;40px&#39;</code></td>
      </tr>
      <tr>
        <td><code>expanded</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the panel is expanded by default. Defaults to True.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional positional arguments for the parent class.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments for the parent class.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_to_sidebar</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">,</span>
    <span class="n">add_header</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">widget_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-tools&quot;</span><span class="p">,</span>
    <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
    <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;My Tools&quot;</span><span class="p">,</span>
    <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
    <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">host_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Appends a widget to the sidebar content.</span>

<span class="sd">    Args:</span>
<span class="sd">        widget (Optional[Union[widgets.Widget, List[widgets.Widget]]]): Initial widget(s) to display in the content box.</span>
<span class="sd">        widget_icon (str): Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">        close_icon (str): Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">        background_color (str): Background color of the header. Defaults to &quot;#f5f5f5&quot;.</span>
<span class="sd">        label (str): Text label for the header. Defaults to &quot;My Tools&quot;.</span>
<span class="sd">        height (str): Height of the header. Defaults to &quot;40px&quot;.</span>
<span class="sd">        expanded (bool): Whether the panel is expanded by default. Defaults to True.</span>
<span class="sd">        *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">label</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">add_header</span><span class="p">:</span>
        <span class="n">widget</span> <span class="o">=</span> <span class="n">CustomWidget</span><span class="p">(</span>
            <span class="n">widget</span><span class="p">,</span>
            <span class="n">widget_icon</span><span class="o">=</span><span class="n">widget_icon</span><span class="p">,</span>
            <span class="n">close_icon</span><span class="o">=</span><span class="n">close_icon</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
            <span class="n">background_color</span><span class="o">=</span><span class="n">background_color</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
            <span class="n">expanded</span><span class="o">=</span><span class="n">expanded</span><span class="p">,</span>
            <span class="n">host_map</span><span class="o">=</span><span class="n">host_map</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">+=</span> <span class="p">(</span><span class="n">widget</span><span class="p">,)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.Container.create_map" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_map</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#anymap.maplibre.Container.create_map" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Creates a default map object.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>A default map object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_map</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a default map object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Any: A default map object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Map</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.Container.remove_from_sidebar" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#anymap.maplibre.Container.remove_from_sidebar" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Removes a widget from the sidebar content.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>widget</code></td>
        <td><code>widgets.Widget</code></td>
        <td><p>The widget to remove from the sidebar.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the widget to remove from the sidebar.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_from_sidebar</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Removes a widget from the sidebar content.</span>

<span class="sd">    Args:</span>
<span class="sd">        widget (widgets.Widget): The widget to remove from the sidebar.</span>
<span class="sd">        name (str): The name of the widget to remove from the sidebar.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">key</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">widget</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">break</span>

    <span class="k">if</span> <span class="n">key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
        <span class="n">child</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="n">child</span> <span class="o">!=</span> <span class="n">widget</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.Container.set_sidebar_content" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_sidebar_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span></code>


<a href="#anymap.maplibre.Container.set_sidebar_content" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Replaces all content in the sidebar (except the toggle button).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>content</code></td>
        <td><code>Union[widgets.VBox, List[widgets.Widget]]</code></td>
        <td><p>The new content for the sidebar.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_sidebar_content</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Replaces all content in the sidebar (except the toggle button).</span>

<span class="sd">    Args:</span>
<span class="sd">        content (Union[widgets.VBox, List[widgets.Widget]]): The new content for the sidebar.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">content</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">content</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.Container.set_sidebar_width" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_sidebar_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#anymap.maplibre.Container.set_sidebar_width" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Dynamically updates the sidebar's minimum and maximum width.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>min_width</code></td>
        <td><code>int</code></td>
        <td><p>New minimum width in pixels. If None, keep current.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>max_width</code></td>
        <td><code>int</code></td>
        <td><p>New maximum width in pixels. If None, keep current.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_sidebar_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Dynamically updates the sidebar&#39;s minimum and maximum width.</span>

<span class="sd">    Args:</span>
<span class="sd">        min_width (int, optional): New minimum width in pixels. If None, keep current.</span>
<span class="sd">        max_width (int, optional): New maximum width in pixels. If None, keep current.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">min_width</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">min_width</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">min_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">min_width</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_width</span> <span class="o">=</span> <span class="n">min_width</span>
    <span class="k">if</span> <span class="n">max_width</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">max_width</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">max_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">max_width</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_width</span> <span class="o">=</span> <span class="n">max_width</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_sidebar_content</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.Container.toggle_sidebar" class="doc doc-heading">
<code class="highlight language-python"><span class="n">toggle_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


<a href="#anymap.maplibre.Container.toggle_sidebar" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Toggles the visibility of the sidebar.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional positional arguments.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">toggle_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Toggles the visibility of the sidebar.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args (Any): Additional positional arguments.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;mdi-chevron-right&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span> <span class="k">else</span> <span class="s2">&quot;mdi-chevron-left&quot;</span>
    <span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_sidebar_content</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.Container.update_sidebar_content" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_sidebar_content</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#anymap.maplibre.Container.update_sidebar_content" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Updates the content of the sidebar based on its visibility.
If the sidebar is visible, it displays the toggle button and the sidebar content.
If the sidebar is hidden, it only displays the toggle button.</p>

        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update_sidebar_content</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Updates the content of the sidebar based on its visibility.</span>
<span class="sd">    If the sidebar is visible, it displays the toggle button and the sidebar content.</span>
<span class="sd">    If the sidebar is hidden, it only displays the toggle button.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span><span class="p">:</span>
        <span class="c1"># Header row: toggle on the left, settings on the right</span>
        <span class="n">header_row</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
            <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0 pa-0&quot;</span><span class="p">,</span>
            <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
            <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;space-between&quot;</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">header_row</span><span class="p">]</span>

        <span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">children</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">style_</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;min-width: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_width</span><span class="si">}</span><span class="s2">px; max-width: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_width</span><span class="si">}</span><span class="s2">px;&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">style_</span> <span class="o">=</span> <span class="s2">&quot;width: 48px; min-width: 48px; max-width: 48px;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="anymap.maplibre.CustomWidget" class="doc doc-heading">
        <code>
CustomWidget            (<span title="ipyvuetify.generated.ExpansionPanels.ExpansionPanels">ExpansionPanels</span>)
        </code>



<a href="#anymap.maplibre.CustomWidget" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>A custom expansion panel widget with dynamic widget management.</p>
<p>This widget allows for the creation of an expandable panel with a customizable header
and dynamic content. Widgets can be added, removed, or replaced in the content box.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>content_box</code></td>
        <td><code>widgets.VBox</code></td>
        <td><p>A container for holding the widgets displayed in the panel.</p></td>
      </tr>
      <tr>
        <td><code>panel</code></td>
        <td><code>v.ExpansionPanel</code></td>
        <td><p>The main expansion panel containing the header and content.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CustomWidget</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanels</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A custom expansion panel widget with dynamic widget management.</span>

<span class="sd">    This widget allows for the creation of an expandable panel with a customizable header</span>
<span class="sd">    and dynamic content. Widgets can be added, removed, or replaced in the content box.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        content_box (widgets.VBox): A container for holding the widgets displayed in the panel.</span>
<span class="sd">        panel (v.ExpansionPanel): The main expansion panel containing the header and content.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">widget</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">widget_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-tools&quot;</span><span class="p">,</span>
        <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
        <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;My Tools&quot;</span><span class="p">,</span>
        <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
        <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">host_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the CustomWidget.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget (Optional[Union[widgets.Widget, List[widgets.Widget]]]): Initial widget(s) to display in the content box.</span>
<span class="sd">            widget_icon (str): Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">            close_icon (str): Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">            background_color (str): Background color of the header. Defaults to &quot;#f5f5f5&quot;.</span>
<span class="sd">            label (str): Text label for the header. Defaults to &quot;My Tools&quot;.</span>
<span class="sd">            height (str): Height of the header. Defaults to &quot;40px&quot;.</span>
<span class="sd">            expanded (bool): Whether the panel is expanded by default. Defaults to True.</span>
<span class="sd">            *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Wrap content in a mutable VBox</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">host_map</span> <span class="o">=</span> <span class="n">host_map</span>
        <span class="k">if</span> <span class="n">widget</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">widget</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">widget</span><span class="p">]</span>

        <span class="c1"># Close icon button</span>
        <span class="n">close_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
            <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">small</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0&quot;</span><span class="p">,</span>
            <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;min-width: 24px; width: 24px;&quot;</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">close_icon</span><span class="p">])],</span>
        <span class="p">)</span>
        <span class="n">close_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_close</span><span class="p">)</span>

        <span class="n">header</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelHeader</span><span class="p">(</span>
            <span class="n">style_</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; min-height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; background-color: </span><span class="si">{</span><span class="n">background_color</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                    <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                    <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;d-flex flex-grow-1 align-center&quot;</span><span class="p">,</span>
                    <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">widget_icon</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ml-1&quot;</span><span class="p">),</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push title to center</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Html</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">label</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;text-subtitle-2&quot;</span><span class="p">),</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push close to right</span>
                        <span class="n">close_btn</span><span class="p">,</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>
                    <span class="p">],</span>
                <span class="p">)</span>
            <span class="p">],</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">panel</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanel</span><span class="p">(</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                <span class="n">header</span><span class="p">,</span>
                <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelContent</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="p">]),</span>
            <span class="p">]</span>
        <span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">],</span>
            <span class="n">v_model</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">expanded</span> <span class="k">else</span> <span class="p">[],</span>
            <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calls the on_close callback if provided.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">host_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">host_map</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># self.close()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a widget to the content box.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget (widgets.Widget): The widget to add to the content box.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">+=</span> <span class="p">(</span><span class="n">widget</span><span class="p">,)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">remove_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes a widget from the content box.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget (widgets.Widget): The widget to remove from the content box.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
            <span class="n">w</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="n">widget</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widgets_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Replaces all widgets in the content box.</span>

<span class="sd">        Args:</span>
<span class="sd">            widgets_list (List[widgets.Widget]): A list of widgets to set as the content of the content box.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">widgets_list</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.CustomWidget.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">widget_icon</span><span class="o">=</span><span class="s1">&#39;mdi-tools&#39;</span><span class="p">,</span> <span class="n">close_icon</span><span class="o">=</span><span class="s1">&#39;mdi-close&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;My Tools&#39;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;#f5f5f5&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;40px&#39;</span><span class="p">,</span> <span class="n">expanded</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">host_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#anymap.maplibre.CustomWidget.__init__" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Initializes the CustomWidget.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>widget</code></td>
        <td><code>Optional[Union[widgets.Widget, List[widgets.Widget]]]</code></td>
        <td><p>Initial widget(s) to display in the content box.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>widget_icon</code></td>
        <td><code>str</code></td>
        <td><p>Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</p></td>
        <td><code>&#39;mdi-tools&#39;</code></td>
      </tr>
      <tr>
        <td><code>close_icon</code></td>
        <td><code>str</code></td>
        <td><p>Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</p></td>
        <td><code>&#39;mdi-close&#39;</code></td>
      </tr>
      <tr>
        <td><code>background_color</code></td>
        <td><code>str</code></td>
        <td><p>Background color of the header. Defaults to "#f5f5f5".</p></td>
        <td><code>&#39;#f5f5f5&#39;</code></td>
      </tr>
      <tr>
        <td><code>label</code></td>
        <td><code>str</code></td>
        <td><p>Text label for the header. Defaults to "My Tools".</p></td>
        <td><code>&#39;My Tools&#39;</code></td>
      </tr>
      <tr>
        <td><code>height</code></td>
        <td><code>str</code></td>
        <td><p>Height of the header. Defaults to "40px".</p></td>
        <td><code>&#39;40px&#39;</code></td>
      </tr>
      <tr>
        <td><code>expanded</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the panel is expanded by default. Defaults to True.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional positional arguments for the parent class.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments for the parent class.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">widget</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">widget_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-tools&quot;</span><span class="p">,</span>
    <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
    <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;My Tools&quot;</span><span class="p">,</span>
    <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
    <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">host_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the CustomWidget.</span>

<span class="sd">    Args:</span>
<span class="sd">        widget (Optional[Union[widgets.Widget, List[widgets.Widget]]]): Initial widget(s) to display in the content box.</span>
<span class="sd">        widget_icon (str): Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">        close_icon (str): Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">        background_color (str): Background color of the header. Defaults to &quot;#f5f5f5&quot;.</span>
<span class="sd">        label (str): Text label for the header. Defaults to &quot;My Tools&quot;.</span>
<span class="sd">        height (str): Height of the header. Defaults to &quot;40px&quot;.</span>
<span class="sd">        expanded (bool): Whether the panel is expanded by default. Defaults to True.</span>
<span class="sd">        *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Wrap content in a mutable VBox</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">host_map</span> <span class="o">=</span> <span class="n">host_map</span>
    <span class="k">if</span> <span class="n">widget</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">widget</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">widget</span><span class="p">]</span>

    <span class="c1"># Close icon button</span>
    <span class="n">close_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
        <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">small</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0&quot;</span><span class="p">,</span>
        <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;min-width: 24px; width: 24px;&quot;</span><span class="p">,</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">close_icon</span><span class="p">])],</span>
    <span class="p">)</span>
    <span class="n">close_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_close</span><span class="p">)</span>

    <span class="n">header</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelHeader</span><span class="p">(</span>
        <span class="n">style_</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; min-height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; background-color: </span><span class="si">{</span><span class="n">background_color</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">,</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span>
            <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;d-flex flex-grow-1 align-center&quot;</span><span class="p">,</span>
                <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">widget_icon</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ml-1&quot;</span><span class="p">),</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push title to center</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Html</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">label</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;text-subtitle-2&quot;</span><span class="p">),</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push close to right</span>
                    <span class="n">close_btn</span><span class="p">,</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>
                <span class="p">],</span>
            <span class="p">)</span>
        <span class="p">],</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">panel</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanel</span><span class="p">(</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span>
            <span class="n">header</span><span class="p">,</span>
            <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelContent</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="p">]),</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">],</span>
        <span class="n">v_model</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">expanded</span> <span class="k">else</span> <span class="p">[],</span>
        <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.CustomWidget.add_widget" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">)</span></code>


<a href="#anymap.maplibre.CustomWidget.add_widget" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Adds a widget to the content box.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>widget</code></td>
        <td><code>widgets.Widget</code></td>
        <td><p>The widget to add to the content box.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds a widget to the content box.</span>

<span class="sd">    Args:</span>
<span class="sd">        widget (widgets.Widget): The widget to add to the content box.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">+=</span> <span class="p">(</span><span class="n">widget</span><span class="p">,)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.CustomWidget.remove_widget" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">)</span></code>


<a href="#anymap.maplibre.CustomWidget.remove_widget" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Removes a widget from the content box.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>widget</code></td>
        <td><code>widgets.Widget</code></td>
        <td><p>The widget to remove from the content box.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Removes a widget from the content box.</span>

<span class="sd">    Args:</span>
<span class="sd">        widget (widgets.Widget): The widget to remove from the content box.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
        <span class="n">w</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="n">widget</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.CustomWidget.set_widgets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widgets_list</span><span class="p">)</span></code>


<a href="#anymap.maplibre.CustomWidget.set_widgets" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Replaces all widgets in the content box.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>widgets_list</code></td>
        <td><code>List[widgets.Widget]</code></td>
        <td><p>A list of widgets to set as the content of the content box.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widgets_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Replaces all widgets in the content box.</span>

<span class="sd">    Args:</span>
<span class="sd">        widgets_list (List[widgets.Widget]): A list of widgets to set as the content of the content box.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">widgets_list</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="anymap.maplibre.LayerManagerWidget" class="doc doc-heading">
        <code>
LayerManagerWidget            (<span title="ipyvuetify.generated.ExpansionPanels.ExpansionPanels">ExpansionPanels</span>)
        </code>



<a href="#anymap.maplibre.LayerManagerWidget" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>A widget for managing map layers.</p>
<p>This widget provides controls for toggling the visibility, adjusting the opacity,
and removing layers from a map. It also includes a master toggle to turn all layers
on or off.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>m</code></td>
        <td><code>Map</code></td>
        <td><p>The map object to manage layers for.</p></td>
      </tr>
      <tr>
        <td><code>layer_items</code></td>
        <td><code>Dict[str, Dict[str, widgets.Widget]]</code></td>
        <td><p>A dictionary mapping layer names
to their corresponding control widgets (checkbox and slider).</p></td>
      </tr>
      <tr>
        <td><code>_building</code></td>
        <td><code>bool</code></td>
        <td><p>A flag indicating whether the widget is currently being built.</p></td>
      </tr>
      <tr>
        <td><code>master_toggle</code></td>
        <td><code>widgets.Checkbox</code></td>
        <td><p>A checkbox to toggle all layers on or off.</p></td>
      </tr>
      <tr>
        <td><code>layers_box</code></td>
        <td><code>widgets.VBox</code></td>
        <td><p>A container for individual layer controls.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">LayerManagerWidget</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanels</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A widget for managing map layers.</span>

<span class="sd">    This widget provides controls for toggling the visibility, adjusting the opacity,</span>
<span class="sd">    and removing layers from a map. It also includes a master toggle to turn all layers</span>
<span class="sd">    on or off.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        m (Map): The map object to manage layers for.</span>
<span class="sd">        layer_items (Dict[str, Dict[str, widgets.Widget]]): A dictionary mapping layer names</span>
<span class="sd">            to their corresponding control widgets (checkbox and slider).</span>
<span class="sd">        _building (bool): A flag indicating whether the widget is currently being built.</span>
<span class="sd">        master_toggle (widgets.Checkbox): A checkbox to toggle all layers on or off.</span>
<span class="sd">        layers_box (widgets.VBox): A container for individual layer controls.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">m</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
        <span class="n">layer_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-layers&quot;</span><span class="p">,</span>
        <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Layers&quot;</span><span class="p">,</span>
        <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
        <span class="n">groups</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the LayerManagerWidget.</span>

<span class="sd">        Args:</span>
<span class="sd">            m (Any): The map object to manage layers for.</span>
<span class="sd">            expanded (bool): Whether the expansion panel should be expanded by default. Defaults to True.</span>
<span class="sd">            height (str): The height of the header. Defaults to &quot;40px&quot;.</span>
<span class="sd">            layer_icon (str): The icon for the layer manager. Defaults to &quot;mdi-layers&quot;.</span>
<span class="sd">            close_icon (str): The icon for the close button. Defaults to &quot;mdi-close&quot;.</span>
<span class="sd">            label (str): The label for the layer manager. Defaults to &quot;Layers&quot;.</span>
<span class="sd">            background_color (str): The background color of the header. Defaults to &quot;#f5f5f5&quot;.</span>
<span class="sd">            groups (dict): A dictionary of layer groups, such as {&quot;Group 1&quot;: [&quot;layer1&quot;, &quot;layer2&quot;],</span>
<span class="sd">                &quot;Group 2&quot;: [&quot;layer3&quot;, &quot;layer4&quot;]}. A group layer toggle will be created for each group.</span>
<span class="sd">                Defaults to None.</span>
<span class="sd">            *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m</span> <span class="o">=</span> <span class="n">m</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">groups</span> <span class="o">=</span> <span class="n">groups</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_building</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># Master toggle</span>
        <span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;description_width&quot;</span><span class="p">:</span> <span class="s2">&quot;initial&quot;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master_toggle</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span>
            <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;All layers on/off&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master_toggle</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_all_layers</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">groups</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">group_name</span><span class="p">,</span> <span class="n">group_layers</span> <span class="ow">in</span> <span class="n">groups</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">group_toggle</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span>
                    <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">description</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2"> group layers on/off&quot;</span><span class="p">,</span>
                    <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">group_toggle</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_group_layers</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span><span class="o">.</span><span class="n">children</span> <span class="o">+=</span> <span class="p">(</span><span class="n">group_toggle</span><span class="p">,)</span>

        <span class="c1"># Build individual layer rows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">build_layer_controls</span><span class="p">()</span>

        <span class="c1"># Close icon button</span>
        <span class="n">close_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
            <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">small</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0&quot;</span><span class="p">,</span>
            <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;min-width: 24px; width: 24px;&quot;</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">close_icon</span><span class="p">])],</span>
        <span class="p">)</span>
        <span class="n">close_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_close</span><span class="p">)</span>

        <span class="n">header</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelHeader</span><span class="p">(</span>
            <span class="n">style_</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; min-height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; background-color: </span><span class="si">{</span><span class="n">background_color</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                    <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                    <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;d-flex flex-grow-1 align-center&quot;</span><span class="p">,</span>
                    <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">layer_icon</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ml-1&quot;</span><span class="p">),</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push title to center</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Html</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">label</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;text-subtitle-2&quot;</span><span class="p">),</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push close to right</span>
                        <span class="n">close_btn</span><span class="p">,</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>
                    <span class="p">],</span>
                <span class="p">)</span>
            <span class="p">],</span>
        <span class="p">)</span>

        <span class="n">panel</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanel</span><span class="p">(</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                <span class="n">header</span><span class="p">,</span>
                <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelContent</span><span class="p">(</span>
                    <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                        <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">(</span>
                            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">master_toggle</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="p">]</span>
                        <span class="p">)</span>
                    <span class="p">]</span>
                <span class="p">),</span>
            <span class="p">]</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">expanded</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
                <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">panel</span><span class="p">],</span> <span class="n">v_model</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">panel</span><span class="p">],</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calls the on_close callback if provided.&quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># self.close()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build_layer_controls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Builds the controls for individual layers.</span>

<span class="sd">        This method creates checkboxes for toggling visibility, sliders for adjusting opacity,</span>
<span class="sd">        and buttons for removing layers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_building</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;description_width&quot;</span><span class="p">:</span> <span class="s2">&quot;initial&quot;</span><span class="p">}</span>
        <span class="n">padding</span> <span class="o">=</span> <span class="s2">&quot;0px 5px 0px 5px&quot;</span>

        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">info</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">layer_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="c1"># if name == &quot;background&quot;:</span>
            <span class="c1">#     continue</span>

            <span class="n">visible</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;visible&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="n">opacity</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;opacity&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>

            <span class="n">checkbox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">visible</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">)</span>
            <span class="n">checkbox</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">max_width</span> <span class="o">=</span> <span class="s2">&quot;150px&quot;</span>

            <span class="n">slider</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
                <span class="n">value</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span>
                <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="nb">max</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">step</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
                <span class="n">readout</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Change layer opacity&quot;</span><span class="p">,</span>
                <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;150px&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="n">settings</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
                <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;gear&quot;</span><span class="p">,</span>
                <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Change layer style&quot;</span><span class="p">,</span>
                <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;38px&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;25px&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="n">remove</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
                <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;times&quot;</span><span class="p">,</span>
                <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Remove layer&quot;</span><span class="p">,</span>
                <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;38px&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;25px&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">on_visibility_change</span><span class="p">(</span><span class="n">change</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_layer_visibility</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">])</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">on_opacity_change</span><span class="p">(</span><span class="n">change</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_layer_opacity</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">])</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">on_remove_clicked</span><span class="p">(</span><span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">row_ref</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">layer_name</span> <span class="o">==</span> <span class="s2">&quot;background&quot;</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">get_style_layers</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">add_call</span><span class="p">(</span><span class="s2">&quot;removeLayer&quot;</span><span class="p">,</span> <span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">remove_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">row_ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
                        <span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="n">row_ref</span>
                    <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="sa">f</span><span class="s2">&quot;Style </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Style </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">on_settings_clicked</span><span class="p">(</span><span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">):</span>
                <span class="n">style_widget</span> <span class="o">=</span> <span class="n">LayerStyleWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">[</span><span class="n">layer_name</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">add_to_sidebar</span><span class="p">(</span>
                    <span class="n">style_widget</span><span class="p">,</span>
                    <span class="n">widget_icon</span><span class="o">=</span><span class="s2">&quot;mdi-palette&quot;</span><span class="p">,</span>
                    <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Style </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="n">checkbox</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">on_visibility_change</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
            <span class="n">slider</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">on_opacity_change</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

            <span class="n">row</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">(</span>
                <span class="p">[</span><span class="n">checkbox</span><span class="p">,</span> <span class="n">slider</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="n">remove</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">()</span>
            <span class="p">)</span>

            <span class="n">remove</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span>
                <span class="k">lambda</span> <span class="n">btn</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">name</span><span class="p">:</span> <span class="n">on_remove_clicked</span><span class="p">(</span>
                    <span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">row_ref</span><span class="o">=</span><span class="n">r</span>
                <span class="p">)</span>
            <span class="p">)</span>

            <span class="n">settings</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span>
                <span class="k">lambda</span> <span class="n">btn</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">name</span><span class="p">:</span> <span class="n">on_settings_clicked</span><span class="p">(</span><span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
            <span class="p">)</span>

            <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;checkbox&quot;</span><span class="p">:</span> <span class="n">checkbox</span><span class="p">,</span> <span class="s2">&quot;slider&quot;</span><span class="p">:</span> <span class="n">slider</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">rows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_building</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">toggle_all_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggles the visibility of all layers.</span>

<span class="sd">        Args:</span>
<span class="sd">            change (Dict[str, Any]): The change event from the master toggle checkbox.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_building</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">controls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">controls</span><span class="p">[</span><span class="s2">&quot;checkbox&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">toggle_group_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggles the visibility of a group of layers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_building</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">group_name</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;owner&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">group_layers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="n">group_name</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">layer_name</span> <span class="ow">in</span> <span class="n">group_layers</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_layer_visibility</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_layer_visibility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">visible</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the visibility of a specific layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): The name of the layer.</span>
<span class="sd">            visible (bool): Whether the layer should be visible.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">set_visibility</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">visible</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_layer_opacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">opacity</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the opacity of a specific layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): The name of the layer.</span>
<span class="sd">            opacity (float): The opacity value (0 to 1).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">set_opacity</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Rebuilds the UI to reflect the current layers in the map.</span>
<span class="sd">        &quot;&quot;&quot;</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Rebuild the UI to reflect current layers in the map.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">build_layer_controls</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.LayerManagerWidget.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">expanded</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;40px&#39;</span><span class="p">,</span> <span class="n">layer_icon</span><span class="o">=</span><span class="s1">&#39;mdi-layers&#39;</span><span class="p">,</span> <span class="n">close_icon</span><span class="o">=</span><span class="s1">&#39;mdi-close&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Layers&#39;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;#f5f5f5&#39;</span><span class="p">,</span> <span class="n">groups</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#anymap.maplibre.LayerManagerWidget.__init__" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Initializes the LayerManagerWidget.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>m</code></td>
        <td><code>Any</code></td>
        <td><p>The map object to manage layers for.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>expanded</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the expansion panel should be expanded by default. Defaults to True.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>height</code></td>
        <td><code>str</code></td>
        <td><p>The height of the header. Defaults to "40px".</p></td>
        <td><code>&#39;40px&#39;</code></td>
      </tr>
      <tr>
        <td><code>layer_icon</code></td>
        <td><code>str</code></td>
        <td><p>The icon for the layer manager. Defaults to "mdi-layers".</p></td>
        <td><code>&#39;mdi-layers&#39;</code></td>
      </tr>
      <tr>
        <td><code>close_icon</code></td>
        <td><code>str</code></td>
        <td><p>The icon for the close button. Defaults to "mdi-close".</p></td>
        <td><code>&#39;mdi-close&#39;</code></td>
      </tr>
      <tr>
        <td><code>label</code></td>
        <td><code>str</code></td>
        <td><p>The label for the layer manager. Defaults to "Layers".</p></td>
        <td><code>&#39;Layers&#39;</code></td>
      </tr>
      <tr>
        <td><code>background_color</code></td>
        <td><code>str</code></td>
        <td><p>The background color of the header. Defaults to "#f5f5f5".</p></td>
        <td><code>&#39;#f5f5f5&#39;</code></td>
      </tr>
      <tr>
        <td><code>groups</code></td>
        <td><code>dict</code></td>
        <td><p>A dictionary of layer groups, such as {"Group 1": ["layer1", "layer2"],
"Group 2": ["layer3", "layer4"]}. A group layer toggle will be created for each group.
Defaults to None.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional positional arguments for the parent class.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments for the parent class.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">m</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
    <span class="n">layer_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-layers&quot;</span><span class="p">,</span>
    <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Layers&quot;</span><span class="p">,</span>
    <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
    <span class="n">groups</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the LayerManagerWidget.</span>

<span class="sd">    Args:</span>
<span class="sd">        m (Any): The map object to manage layers for.</span>
<span class="sd">        expanded (bool): Whether the expansion panel should be expanded by default. Defaults to True.</span>
<span class="sd">        height (str): The height of the header. Defaults to &quot;40px&quot;.</span>
<span class="sd">        layer_icon (str): The icon for the layer manager. Defaults to &quot;mdi-layers&quot;.</span>
<span class="sd">        close_icon (str): The icon for the close button. Defaults to &quot;mdi-close&quot;.</span>
<span class="sd">        label (str): The label for the layer manager. Defaults to &quot;Layers&quot;.</span>
<span class="sd">        background_color (str): The background color of the header. Defaults to &quot;#f5f5f5&quot;.</span>
<span class="sd">        groups (dict): A dictionary of layer groups, such as {&quot;Group 1&quot;: [&quot;layer1&quot;, &quot;layer2&quot;],</span>
<span class="sd">            &quot;Group 2&quot;: [&quot;layer3&quot;, &quot;layer4&quot;]}. A group layer toggle will be created for each group.</span>
<span class="sd">            Defaults to None.</span>
<span class="sd">        *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">m</span> <span class="o">=</span> <span class="n">m</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">groups</span> <span class="o">=</span> <span class="n">groups</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_building</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Master toggle</span>
    <span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;description_width&quot;</span><span class="p">:</span> <span class="s2">&quot;initial&quot;</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">master_toggle</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span>
        <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;All layers on/off&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">master_toggle</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_all_layers</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">groups</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">group_name</span><span class="p">,</span> <span class="n">group_layers</span> <span class="ow">in</span> <span class="n">groups</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">group_toggle</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span>
                <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2"> group layers on/off&quot;</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">group_toggle</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_group_layers</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span><span class="o">.</span><span class="n">children</span> <span class="o">+=</span> <span class="p">(</span><span class="n">group_toggle</span><span class="p">,)</span>

    <span class="c1"># Build individual layer rows</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">build_layer_controls</span><span class="p">()</span>

    <span class="c1"># Close icon button</span>
    <span class="n">close_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
        <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">small</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0&quot;</span><span class="p">,</span>
        <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;min-width: 24px; width: 24px;&quot;</span><span class="p">,</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">close_icon</span><span class="p">])],</span>
    <span class="p">)</span>
    <span class="n">close_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_close</span><span class="p">)</span>

    <span class="n">header</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelHeader</span><span class="p">(</span>
        <span class="n">style_</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; min-height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; background-color: </span><span class="si">{</span><span class="n">background_color</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">,</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span>
            <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;d-flex flex-grow-1 align-center&quot;</span><span class="p">,</span>
                <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">layer_icon</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ml-1&quot;</span><span class="p">),</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push title to center</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Html</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">label</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;text-subtitle-2&quot;</span><span class="p">),</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push close to right</span>
                    <span class="n">close_btn</span><span class="p">,</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>
                <span class="p">],</span>
            <span class="p">)</span>
        <span class="p">],</span>
    <span class="p">)</span>

    <span class="n">panel</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanel</span><span class="p">(</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span>
            <span class="n">header</span><span class="p">,</span>
            <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelContent</span><span class="p">(</span>
                <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">(</span>
                        <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">master_toggle</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="p">]</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="p">),</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">expanded</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">panel</span><span class="p">],</span> <span class="n">v_model</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">panel</span><span class="p">],</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.LayerManagerWidget.build_layer_controls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_layer_controls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#anymap.maplibre.LayerManagerWidget.build_layer_controls" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Builds the controls for individual layers.</p>
<p>This method creates checkboxes for toggling visibility, sliders for adjusting opacity,
and buttons for removing layers.</p>

        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">build_layer_controls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds the controls for individual layers.</span>

<span class="sd">    This method creates checkboxes for toggling visibility, sliders for adjusting opacity,</span>
<span class="sd">    and buttons for removing layers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_building</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;description_width&quot;</span><span class="p">:</span> <span class="s2">&quot;initial&quot;</span><span class="p">}</span>
    <span class="n">padding</span> <span class="o">=</span> <span class="s2">&quot;0px 5px 0px 5px&quot;</span>

    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">info</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">layer_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="c1"># if name == &quot;background&quot;:</span>
        <span class="c1">#     continue</span>

        <span class="n">visible</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;visible&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">opacity</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;opacity&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>

        <span class="n">checkbox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">visible</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">)</span>
        <span class="n">checkbox</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">max_width</span> <span class="o">=</span> <span class="s2">&quot;150px&quot;</span>

        <span class="n">slider</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
            <span class="n">value</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span>
            <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="nb">max</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">step</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
            <span class="n">readout</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Change layer opacity&quot;</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;150px&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="n">settings</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
            <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;gear&quot;</span><span class="p">,</span>
            <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Change layer style&quot;</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;38px&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;25px&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="n">remove</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
            <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;times&quot;</span><span class="p">,</span>
            <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Remove layer&quot;</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;38px&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;25px&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">on_visibility_change</span><span class="p">(</span><span class="n">change</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_layer_visibility</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">])</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">on_opacity_change</span><span class="p">(</span><span class="n">change</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_layer_opacity</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">])</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">on_remove_clicked</span><span class="p">(</span><span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">row_ref</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">layer_name</span> <span class="o">==</span> <span class="s2">&quot;background&quot;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">get_style_layers</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">add_call</span><span class="p">(</span><span class="s2">&quot;removeLayer&quot;</span><span class="p">,</span> <span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">remove_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">row_ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
                    <span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="n">row_ref</span>
                <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="sa">f</span><span class="s2">&quot;Style </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Style </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">on_settings_clicked</span><span class="p">(</span><span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">):</span>
            <span class="n">style_widget</span> <span class="o">=</span> <span class="n">LayerStyleWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">[</span><span class="n">layer_name</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">add_to_sidebar</span><span class="p">(</span>
                <span class="n">style_widget</span><span class="p">,</span>
                <span class="n">widget_icon</span><span class="o">=</span><span class="s2">&quot;mdi-palette&quot;</span><span class="p">,</span>
                <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Style </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">checkbox</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">on_visibility_change</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="n">slider</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">on_opacity_change</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

        <span class="n">row</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">(</span>
            <span class="p">[</span><span class="n">checkbox</span><span class="p">,</span> <span class="n">slider</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="n">remove</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="n">remove</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">btn</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">name</span><span class="p">:</span> <span class="n">on_remove_clicked</span><span class="p">(</span>
                <span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">row_ref</span><span class="o">=</span><span class="n">r</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">settings</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">btn</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">name</span><span class="p">:</span> <span class="n">on_settings_clicked</span><span class="p">(</span><span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;checkbox&quot;</span><span class="p">:</span> <span class="n">checkbox</span><span class="p">,</span> <span class="s2">&quot;slider&quot;</span><span class="p">:</span> <span class="n">slider</span><span class="p">}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">rows</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_building</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.LayerManagerWidget.refresh" class="doc doc-heading">
<code class="highlight language-python"><span class="n">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#anymap.maplibre.LayerManagerWidget.refresh" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Rebuilds the UI to reflect the current layers in the map.</p>

        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Rebuilds the UI to reflect the current layers in the map.</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Rebuild the UI to reflect current layers in the map.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">build_layer_controls</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.LayerManagerWidget.set_layer_opacity" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_layer_opacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span></code>


<a href="#anymap.maplibre.LayerManagerWidget.set_layer_opacity" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Sets the opacity of a specific layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>opacity</code></td>
        <td><code>float</code></td>
        <td><p>The opacity value (0 to 1).</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_layer_opacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">opacity</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the opacity of a specific layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): The name of the layer.</span>
<span class="sd">        opacity (float): The opacity value (0 to 1).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">set_opacity</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.LayerManagerWidget.set_layer_visibility" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_layer_visibility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">visible</span><span class="p">)</span></code>


<a href="#anymap.maplibre.LayerManagerWidget.set_layer_visibility" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Sets the visibility of a specific layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>visible</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the layer should be visible.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_layer_visibility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">visible</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the visibility of a specific layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): The name of the layer.</span>
<span class="sd">        visible (bool): Whether the layer should be visible.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">set_visibility</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">visible</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.LayerManagerWidget.toggle_all_layers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">toggle_all_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">)</span></code>


<a href="#anymap.maplibre.LayerManagerWidget.toggle_all_layers" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Toggles the visibility of all layers.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>change</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>The change event from the master toggle checkbox.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">toggle_all_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Toggles the visibility of all layers.</span>

<span class="sd">    Args:</span>
<span class="sd">        change (Dict[str, Any]): The change event from the master toggle checkbox.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_building</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">controls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">controls</span><span class="p">[</span><span class="s2">&quot;checkbox&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.LayerManagerWidget.toggle_group_layers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">toggle_group_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">)</span></code>


<a href="#anymap.maplibre.LayerManagerWidget.toggle_group_layers" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Toggles the visibility of a group of layers.</p>

        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">toggle_group_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Toggles the visibility of a group of layers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_building</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">group_name</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;owner&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">group_layers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="n">group_name</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">layer_name</span> <span class="ow">in</span> <span class="n">group_layers</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_layer_visibility</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="anymap.maplibre.LayerStyleWidget" class="doc doc-heading">
        <code>
LayerStyleWidget            (<span title="ipywidgets.widgets.widget_box.VBox">VBox</span>)
        </code>



<a href="#anymap.maplibre.LayerStyleWidget" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>A widget for styling map layers interactively.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer</code></td>
        <td><code>dict</code></td>
        <td><p>The layer to style.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>map_widget</code></td>
        <td><code>ipyleaflet.Map or folium.Map</code></td>
        <td><p>The map widget to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>widget_width</code></td>
        <td><code>str</code></td>
        <td><p>The width of the widget. Defaults to "270px".</p></td>
        <td><code>&#39;270px&#39;</code></td>
      </tr>
      <tr>
        <td><code>label_width</code></td>
        <td><code>str</code></td>
        <td><p>The width of the label. Defaults to "130px".</p></td>
        <td><code>&#39;130px&#39;</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">LayerStyleWidget</span><span class="p">(</span><span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A widget for styling map layers interactively.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (dict): The layer to style.</span>
<span class="sd">        map_widget (ipyleaflet.Map or folium.Map): The map widget to update.</span>
<span class="sd">        widget_width (str, optional): The width of the widget. Defaults to &quot;270px&quot;.</span>
<span class="sd">        label_width (str, optional): The width of the label. Defaults to &quot;130px&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">layer</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
        <span class="n">map_widget</span><span class="p">:</span> <span class="n">MapLibreMap</span><span class="p">,</span>
        <span class="n">widget_width</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;270px&quot;</span><span class="p">,</span>
        <span class="n">label_width</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;130px&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer</span> <span class="o">=</span> <span class="n">layer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">map_widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_layer_type</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_id</span> <span class="o">=</span> <span class="n">layer</span><span class="p">[</span><span class="s2">&quot;layer&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_paint</span> <span class="o">=</span> <span class="n">layer</span><span class="p">[</span><span class="s2">&quot;layer&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">paint</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">original_style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_current_style</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget_width</span> <span class="o">=</span> <span class="n">widget_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label_width</span> <span class="o">=</span> <span class="n">label_width</span>

        <span class="c1"># Create the styling widgets based on layer type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">style_widgets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_style_widgets</span><span class="p">()</span>

        <span class="c1"># Create buttons</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_btn</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Apply&quot;</span><span class="p">,</span>
            <span class="n">button_style</span><span class="o">=</span><span class="s2">&quot;primary&quot;</span><span class="p">,</span>
            <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Apply style changes&quot;</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">reset_btn</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Reset&quot;</span><span class="p">,</span>
            <span class="n">button_style</span><span class="o">=</span><span class="s2">&quot;warning&quot;</span><span class="p">,</span>
            <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Reset to original style&quot;</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">close_btn</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Close&quot;</span><span class="p">,</span>
            <span class="n">button_style</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Close the widget&quot;</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">output_widget</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Output</span><span class="p">()</span>

        <span class="c1"># Button container</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">apply_btn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">reset_btn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_btn</span><span class="p">])</span>

        <span class="c1"># Add button callbacks</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_btn</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_apply_style</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset_btn</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_reset_style</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close_btn</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_close_widget</span><span class="p">)</span>

        <span class="c1"># Layout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;300px&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">)</span>

        <span class="c1"># Combine all widgets</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">style_widgets</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">button_box</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_widget</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_layer_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Determine the layer type.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_current_style</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the current layer style.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_paint</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_style_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create style widgets based on layer type.&quot;&quot;&quot;</span>
        <span class="n">widgets_list</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_type</span> <span class="o">==</span> <span class="s2">&quot;circle&quot;</span><span class="p">:</span>
            <span class="n">widgets_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_color_picker</span><span class="p">(</span>
                        <span class="s2">&quot;Circle Color&quot;</span><span class="p">,</span> <span class="s2">&quot;circle-color&quot;</span><span class="p">,</span> <span class="s2">&quot;#3388ff&quot;</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span>
                        <span class="s2">&quot;Circle Radius&quot;</span><span class="p">,</span> <span class="s2">&quot;circle-radius&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">20</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span>
                        <span class="s2">&quot;Circle Opacity&quot;</span><span class="p">,</span> <span class="s2">&quot;circle-opacity&quot;</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.05</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span>
                        <span class="s2">&quot;Circle Blur&quot;</span><span class="p">,</span> <span class="s2">&quot;circle-blur&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.05</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_color_picker</span><span class="p">(</span>
                        <span class="s2">&quot;Circle Stroke Color&quot;</span><span class="p">,</span> <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">,</span> <span class="s2">&quot;#3388ff&quot;</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span>
                        <span class="s2">&quot;Circle Stroke Width&quot;</span><span class="p">,</span> <span class="s2">&quot;circle-stroke-width&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span>
                        <span class="s2">&quot;Circle Stroke Opacity&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;circle-stroke-opacity&quot;</span><span class="p">,</span>
                        <span class="mf">1.0</span><span class="p">,</span>
                        <span class="mi">0</span><span class="p">,</span>
                        <span class="mi">1</span><span class="p">,</span>
                        <span class="mf">0.05</span><span class="p">,</span>
                    <span class="p">),</span>
                <span class="p">]</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_type</span> <span class="o">==</span> <span class="s2">&quot;line&quot;</span><span class="p">:</span>
            <span class="n">widgets_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_color_picker</span><span class="p">(</span><span class="s2">&quot;Line Color&quot;</span><span class="p">,</span> <span class="s2">&quot;line-color&quot;</span><span class="p">,</span> <span class="s2">&quot;#3388ff&quot;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span><span class="s2">&quot;Line Width&quot;</span><span class="p">,</span> <span class="s2">&quot;line-width&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span>
                        <span class="s2">&quot;Line Opacity&quot;</span><span class="p">,</span> <span class="s2">&quot;line-opacity&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.05</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span><span class="s2">&quot;Line Blur&quot;</span><span class="p">,</span> <span class="s2">&quot;line-blur&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_dropdown</span><span class="p">(</span>
                        <span class="s2">&quot;Line Style&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;line-dasharray&quot;</span><span class="p">,</span>
                        <span class="p">[</span>
                            <span class="p">(</span><span class="s2">&quot;Solid&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                            <span class="p">(</span><span class="s2">&quot;Dashed&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span>
                            <span class="p">(</span><span class="s2">&quot;Dotted&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span>
                            <span class="p">(</span><span class="s2">&quot;Dash-dot&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span>
                        <span class="p">],</span>
                    <span class="p">),</span>
                <span class="p">]</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_type</span> <span class="o">==</span> <span class="s2">&quot;fill&quot;</span><span class="p">:</span>
            <span class="n">widgets_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_color_picker</span><span class="p">(</span><span class="s2">&quot;Fill Color&quot;</span><span class="p">,</span> <span class="s2">&quot;fill-color&quot;</span><span class="p">,</span> <span class="s2">&quot;#3388ff&quot;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span>
                        <span class="s2">&quot;Fill Opacity&quot;</span><span class="p">,</span> <span class="s2">&quot;fill-opacity&quot;</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.05</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_color_picker</span><span class="p">(</span>
                        <span class="s2">&quot;Fill Outline Color&quot;</span><span class="p">,</span> <span class="s2">&quot;fill-outline-color&quot;</span><span class="p">,</span> <span class="s2">&quot;#3388ff&quot;</span>
                    <span class="p">),</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">widgets_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Layer type </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">layer_type</span><span class="si">}</span><span class="s2"> is not supported.&quot;</span><span class="p">)]</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">widgets_list</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_color_picker</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">property_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default_color</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">widgets</span><span class="o">.</span><span class="n">ColorPicker</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a color picker widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">widgets</span><span class="o">.</span><span class="n">ColorPicker</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">original_style</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">property_name</span><span class="p">,</span> <span class="n">default_color</span><span class="p">),</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
                <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_width</span><span class="p">,</span> <span class="n">description_width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">label_width</span>
            <span class="p">),</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;description_width&quot;</span><span class="p">:</span> <span class="s2">&quot;initial&quot;</span><span class="p">},</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_number_slider</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">property_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">default_value</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">min_val</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">max_val</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">step</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a number slider widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">original_style</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">property_name</span><span class="p">,</span> <span class="n">default_value</span><span class="p">),</span>
            <span class="nb">min</span><span class="o">=</span><span class="n">min_val</span><span class="p">,</span>
            <span class="nb">max</span><span class="o">=</span><span class="n">max_val</span><span class="p">,</span>
            <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
                <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_width</span><span class="p">,</span> <span class="n">description_width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">label_width</span>
            <span class="p">),</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;description_width&quot;</span><span class="p">:</span> <span class="s2">&quot;initial&quot;</span><span class="p">},</span>
            <span class="n">continuous_update</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_dropdown</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">property_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a dropdown widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">original_style</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">property_name</span><span class="p">,</span> <span class="n">options</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
                <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_width</span><span class="p">,</span> <span class="n">description_width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">label_width</span>
            <span class="p">),</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;description_width&quot;</span><span class="p">:</span> <span class="s2">&quot;initial&quot;</span><span class="p">},</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_apply_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply the style changes to the layer.&quot;&quot;&quot;</span>
        <span class="n">new_style</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">style_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">widgets</span><span class="o">.</span><span class="n">ColorPicker</span><span class="p">):</span>
                <span class="n">property_name</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
                <span class="n">new_style</span><span class="p">[</span><span class="n">property_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">value</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">):</span>
                <span class="n">property_name</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
                <span class="n">new_style</span><span class="p">[</span><span class="n">property_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">value</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">):</span>
                <span class="n">property_name</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
                <span class="n">new_style</span><span class="p">[</span><span class="n">property_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">value</span>

        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_widget</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">new_style</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;line-style&quot;</span><span class="p">:</span>
                        <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;line-dasharray&quot;</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="o">.</span><span class="n">set_paint_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layer</span><span class="p">[</span><span class="s2">&quot;layer&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="o">.</span><span class="n">layer_manager</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_reset_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reset to original style.&quot;&quot;&quot;</span>

        <span class="c1"># Update widgets to reflect original style</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">style_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span>
                <span class="n">widget</span><span class="p">,</span> <span class="p">(</span><span class="n">widgets</span><span class="o">.</span><span class="n">ColorPicker</span><span class="p">,</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">,</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="n">property_name</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">property_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_style</span><span class="p">:</span>
                    <span class="n">widget</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_style</span><span class="p">[</span><span class="n">property_name</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_close_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the widget.&quot;&quot;&quot;</span>
        <span class="c1"># self.close()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Style </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">layer</span><span class="p">[</span><span class="s1">&#39;layer&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="anymap.maplibre.MapLibreMap" class="doc doc-heading">
        <code>
MapLibreMap            (<a class="autorefs autorefs-internal" title="anymap.base.MapWidget" href="../base/#anymap.base.MapWidget">MapWidget</a>)
        </code>



<a href="#anymap.maplibre.MapLibreMap" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>MapLibre GL JS implementation of the map widget.</p>
<p>This class provides an interactive map widget using MapLibre GL JS,
an open-source WebGL-based vector map renderer. It supports various
data sources, custom styling, and interactive features.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>style</code></td>
        <td></td>
        <td><p>Map style configuration (URL string or style object).</p></td>
      </tr>
      <tr>
        <td><code>bearing</code></td>
        <td></td>
        <td><p>Map rotation in degrees (0-360).</p></td>
      </tr>
      <tr>
        <td><code>pitch</code></td>
        <td></td>
        <td><p>Map tilt in degrees (0-60).</p></td>
      </tr>
      <tr>
        <td><code>antialias</code></td>
        <td></td>
        <td><p>Whether to enable antialiasing for better rendering quality.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <p>Creating a basic MapLibre map:</p>
    <div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">MapLibreMap</span><span class="p">(</span>
<span class="o">...</span>     <span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">40.7749</span><span class="p">,</span> <span class="o">-</span><span class="mf">122.4194</span><span class="p">],</span>
<span class="o">...</span>     <span class="n">zoom</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span>
<span class="o">...</span>     <span class="n">style</span><span class="o">=</span><span class="s2">&quot;3d-satellite&quot;</span>
<span class="o">...</span> <span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span><span class="o">.</span><span class="n">add_basemap</span><span class="p">(</span><span class="s2">&quot;OpenStreetMap.Mapnik&quot;</span><span class="p">)</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MapLibreMap</span><span class="p">(</span><span class="n">MapWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;MapLibre GL JS implementation of the map widget.</span>

<span class="sd">    This class provides an interactive map widget using MapLibre GL JS,</span>
<span class="sd">    an open-source WebGL-based vector map renderer. It supports various</span>
<span class="sd">    data sources, custom styling, and interactive features.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        style: Map style configuration (URL string or style object).</span>
<span class="sd">        bearing: Map rotation in degrees (0-360).</span>
<span class="sd">        pitch: Map tilt in degrees (0-60).</span>
<span class="sd">        antialias: Whether to enable antialiasing for better rendering quality.</span>

<span class="sd">    Example:</span>
<span class="sd">        Creating a basic MapLibre map:</span>

<span class="sd">        &gt;&gt;&gt; m = MapLibreMap(</span>
<span class="sd">        ...     center=[40.7749, -122.4194],</span>
<span class="sd">        ...     zoom=12,</span>
<span class="sd">        ...     style=&quot;3d-satellite&quot;</span>
<span class="sd">        ... )</span>
<span class="sd">        &gt;&gt;&gt; m.add_basemap(&quot;OpenStreetMap.Mapnik&quot;)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># MapLibre-specific traits</span>
    <span class="n">style</span> <span class="o">=</span> <span class="n">traitlets</span><span class="o">.</span><span class="n">Union</span><span class="p">(</span>
        <span class="p">[</span><span class="n">traitlets</span><span class="o">.</span><span class="n">Unicode</span><span class="p">(),</span> <span class="n">traitlets</span><span class="o">.</span><span class="n">Dict</span><span class="p">()],</span>
        <span class="n">default_value</span><span class="o">=</span><span class="s2">&quot;dark-matter&quot;</span><span class="p">,</span>
    <span class="p">)</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">sync</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">bearing</span> <span class="o">=</span> <span class="n">traitlets</span><span class="o">.</span><span class="n">Float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">sync</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">pitch</span> <span class="o">=</span> <span class="n">traitlets</span><span class="o">.</span><span class="n">Float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">sync</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">antialias</span> <span class="o">=</span> <span class="n">traitlets</span><span class="o">.</span><span class="n">Bool</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">sync</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Define the JavaScript module path</span>
    <span class="n">_esm</span> <span class="o">=</span> <span class="n">_esm_maplibre</span>
    <span class="n">_css</span> <span class="o">=</span> <span class="n">_css_maplibre</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">center</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span>
        <span class="n">zoom</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="n">style</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="s2">&quot;dark-matter&quot;</span><span class="p">,</span>
        <span class="n">width</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;100%&quot;</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;600px&quot;</span><span class="p">,</span>
        <span class="n">bearing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="n">pitch</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="n">add_sidebar</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">sidebar_visible</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">sidebar_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">360</span><span class="p">,</span>
        <span class="n">sidebar_args</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">layer_manager_expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize MapLibre map widget.</span>

<span class="sd">        Args:</span>
<span class="sd">            center: Map center coordinates as [latitude, longitude].</span>
<span class="sd">            zoom: Initial zoom level (typically 0-20).</span>
<span class="sd">            style: MapLibre style URL string or style object dictionary.</span>
<span class="sd">            width: Widget width as CSS string (e.g., &quot;100%&quot;, &quot;800px&quot;).</span>
<span class="sd">            height: Widget height as CSS string (e.g., &quot;600px&quot;, &quot;50vh&quot;).</span>
<span class="sd">            bearing: Map bearing (rotation) in degrees (0-360).</span>
<span class="sd">            pitch: Map pitch (tilt) in degrees (0-60).</span>
<span class="sd">            **kwargs: Additional keyword arguments passed to parent class.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">style</span> <span class="o">=</span> <span class="n">construct_maplibre_style</span><span class="p">(</span><span class="n">style</span><span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">center</span><span class="o">=</span><span class="n">center</span><span class="p">,</span>
            <span class="n">zoom</span><span class="o">=</span><span class="n">zoom</span><span class="p">,</span>
            <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span>
            <span class="n">bearing</span><span class="o">=</span><span class="n">bearing</span><span class="p">,</span>
            <span class="n">pitch</span><span class="o">=</span><span class="n">pitch</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">[</span><span class="s2">&quot;background&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;layer&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;background&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;background&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;opacity&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
            <span class="s2">&quot;visible&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;background&quot;</span><span class="p">,</span>
            <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_style</span> <span class="o">=</span> <span class="n">style</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">style_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_style_layers</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">style_dict</span><span class="p">[</span><span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">layer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">source_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">sidebar_args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sidebar_args</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="s2">&quot;sidebar_visible&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sidebar_args</span><span class="p">:</span>
            <span class="n">sidebar_args</span><span class="p">[</span><span class="s2">&quot;sidebar_visible&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sidebar_visible</span>
        <span class="k">if</span> <span class="s2">&quot;sidebar_width&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sidebar_args</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sidebar_width</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">sidebar_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sidebar_width</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="n">sidebar_args</span><span class="p">[</span><span class="s2">&quot;min_width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sidebar_width</span>
            <span class="n">sidebar_args</span><span class="p">[</span><span class="s2">&quot;max_width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sidebar_width</span>
        <span class="k">if</span> <span class="s2">&quot;expanded&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sidebar_args</span><span class="p">:</span>
            <span class="n">sidebar_args</span><span class="p">[</span><span class="s2">&quot;expanded&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">layer_manager_expanded</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span> <span class="o">=</span> <span class="n">sidebar_args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">add_sidebar</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ipython_display_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_patched_display</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">show</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sidebar_visible</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">360</span><span class="p">,</span>
        <span class="n">max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">360</span><span class="p">,</span>
        <span class="n">sidebar_content</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Displays the map with an optional sidebar.</span>

<span class="sd">        Args:</span>
<span class="sd">            sidebar_visible (bool): Whether the sidebar is visible. Defaults to False.</span>
<span class="sd">            min_width (int): Minimum width of the sidebar in pixels. Defaults to 250.</span>
<span class="sd">            max_width (int): Maximum width of the sidebar in pixels. Defaults to 300.</span>
<span class="sd">            sidebar_content (Optional[Any]): Content to display in the sidebar. Defaults to None.</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Container</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">sidebar_visible</span><span class="o">=</span><span class="n">sidebar_visible</span><span class="p">,</span>
            <span class="n">min_width</span><span class="o">=</span><span class="n">min_width</span><span class="p">,</span>
            <span class="n">max_width</span><span class="o">=</span><span class="n">max_width</span><span class="p">,</span>
            <span class="n">sidebar_content</span><span class="o">=</span><span class="n">sidebar_content</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_container</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sidebar_visible</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a container widget for the map with an optional sidebar.</span>

<span class="sd">        This method initializes a `LayerManagerWidget` and a `Container` widget to display the map</span>
<span class="sd">        alongside a sidebar. The sidebar can be customized with visibility, width, and additional content.</span>

<span class="sd">        Args:</span>
<span class="sd">            sidebar_visible (bool): Whether the sidebar is visible. Defaults to False.</span>
<span class="sd">            min_width (int): Minimum width of the sidebar in pixels. Defaults to 360.</span>
<span class="sd">            max_width (int): Maximum width of the sidebar in pixels. Defaults to 360.</span>
<span class="sd">            expanded (bool): Whether the `LayerManagerWidget` is expanded by default. Defaults to True.</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments passed to the `Container` widget.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Container: The created container widget with the map and sidebar.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">sidebar_visible</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">sidebar_visible</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sidebar_visible&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">min_width</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">min_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;min_width&quot;</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">max_width</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">max_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_width&quot;</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">expanded</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">expanded</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;expanded&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span> <span class="o">=</span> <span class="n">LayerManagerWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expanded</span><span class="o">=</span><span class="n">expanded</span><span class="p">)</span>

        <span class="n">container</span> <span class="o">=</span> <span class="n">Container</span><span class="p">(</span>
            <span class="n">host_map</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">sidebar_visible</span><span class="o">=</span><span class="n">sidebar_visible</span><span class="p">,</span>
            <span class="n">min_width</span><span class="o">=</span><span class="n">min_width</span><span class="p">,</span>
            <span class="n">max_width</span><span class="o">=</span><span class="n">max_width</span><span class="p">,</span>
            <span class="n">sidebar_content</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span><span class="p">],</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="o">=</span> <span class="n">container</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">[</span><span class="s2">&quot;Layers&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span>
        <span class="k">return</span> <span class="n">container</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_repr_html_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Displays the map in an IPython environment.</span>

<span class="sd">        Args:</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;MAPLIBRE_OUTPUT&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">replace_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;MAPTILER_REPLACE_KEY&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">filename</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">to_html</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">replace_key</span><span class="o">=</span><span class="n">replace_key</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_patched_display</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Displays the map in an IPython environment with a patched display method.</span>

<span class="sd">        Args:</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">container</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sidebar_visible</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sidebar_visible&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
            <span class="n">min_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;min_width&quot;</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>
            <span class="n">max_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_width&quot;</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>
            <span class="n">expanded</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;expanded&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span> <span class="o">=</span> <span class="n">LayerManagerWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expanded</span><span class="o">=</span><span class="n">expanded</span><span class="p">)</span>
            <span class="n">container</span> <span class="o">=</span> <span class="n">Container</span><span class="p">(</span>
                <span class="n">host_map</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">sidebar_visible</span><span class="o">=</span><span class="n">sidebar_visible</span><span class="p">,</span>
                <span class="n">min_width</span><span class="o">=</span><span class="n">min_width</span><span class="p">,</span>
                <span class="n">max_width</span><span class="o">=</span><span class="n">max_width</span><span class="p">,</span>
                <span class="n">sidebar_content</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span><span class="p">],</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">container</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">[</span><span class="s2">&quot;Layers&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="o">=</span> <span class="n">container</span>

        <span class="k">if</span> <span class="s2">&quot;google.colab&quot;</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">:</span>
            <span class="kn">import</span><span class="w"> </span><span class="nn">ipyvue</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vue</span>

            <span class="n">display</span><span class="p">(</span><span class="n">vue</span><span class="o">.</span><span class="n">Html</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[]),</span> <span class="n">container</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">display</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_layer_manager</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
        <span class="n">layer_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-layers&quot;</span><span class="p">,</span>
        <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Layers&quot;</span><span class="p">,</span>
        <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span> <span class="o">=</span> <span class="n">LayerManagerWidget</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">expanded</span><span class="o">=</span><span class="n">expanded</span><span class="p">,</span>
                <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
                <span class="n">layer_icon</span><span class="o">=</span><span class="n">layer_icon</span><span class="p">,</span>
                <span class="n">close_icon</span><span class="o">=</span><span class="n">close_icon</span><span class="p">,</span>
                <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
                <span class="n">background_color</span><span class="o">=</span><span class="n">background_color</span><span class="p">,</span>
                <span class="o">*</span><span class="n">args</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_sidebar_content</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Replaces all content in the sidebar (except the toggle button).</span>

<span class="sd">        Args:</span>
<span class="sd">            content (Union[widgets.VBox, List[widgets.Widget]]): The new content for the sidebar.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">set_sidebar_content</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_to_sidebar</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">,</span>
        <span class="n">add_header</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">widget_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-tools&quot;</span><span class="p">,</span>
        <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
        <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;My Tools&quot;</span><span class="p">,</span>
        <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
        <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Appends a widget to the sidebar content.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget (Optional[Union[widgets.Widget, List[widgets.Widget]]]): Initial widget(s) to display in the content box.</span>
<span class="sd">            widget_icon (str): Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">            close_icon (str): Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">            background_color (str): Background color of the header. Defaults to &quot;#f5f5f5&quot;.</span>
<span class="sd">            label (str): Text label for the header. Defaults to &quot;My Tools&quot;.</span>
<span class="sd">            height (str): Height of the header. Defaults to &quot;40px&quot;.</span>
<span class="sd">            expanded (bool): Whether the panel is expanded by default. Defaults to True.</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">create_container</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">add_to_sidebar</span><span class="p">(</span>
            <span class="n">widget</span><span class="p">,</span>
            <span class="n">add_header</span><span class="o">=</span><span class="n">add_header</span><span class="p">,</span>
            <span class="n">widget_icon</span><span class="o">=</span><span class="n">widget_icon</span><span class="p">,</span>
            <span class="n">close_icon</span><span class="o">=</span><span class="n">close_icon</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
            <span class="n">background_color</span><span class="o">=</span><span class="n">background_color</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
            <span class="n">expanded</span><span class="o">=</span><span class="n">expanded</span><span class="p">,</span>
            <span class="n">host_map</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">remove_from_sidebar</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes a widget from the sidebar content.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget (widgets.Widget): The widget to remove from the sidebar.</span>
<span class="sd">            name (str): The name of the widget to remove from the sidebar.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_sidebar_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Dynamically updates the sidebar&#39;s minimum and maximum width.</span>

<span class="sd">        Args:</span>
<span class="sd">            min_width (int, optional): New minimum width in pixels. If None, keep current.</span>
<span class="sd">            max_width (int, optional): New maximum width in pixels. If None, keep current.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">create_container</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">set_sidebar_width</span><span class="p">(</span><span class="n">min_width</span><span class="p">,</span> <span class="n">max_width</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">sidebar_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a dictionary of widgets currently in the sidebar.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dict[str, widgets.Widget]: A dictionary where keys are the labels of the widgets and values are the widgets themselves.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">sidebar_widgets</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the map style.</span>

<span class="sd">        Args:</span>
<span class="sd">            style: Map style as URL string or style object dictionary.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">style</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">call_js_method</span><span class="p">(</span><span class="s2">&quot;setStyle&quot;</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_bearing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bearing</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the map bearing (rotation).</span>

<span class="sd">        Args:</span>
<span class="sd">            bearing: Map rotation in degrees (0-360).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bearing</span> <span class="o">=</span> <span class="n">bearing</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_pitch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pitch</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the map pitch (tilt).</span>

<span class="sd">        Args:</span>
<span class="sd">            pitch: Map tilt in degrees (0-60).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pitch</span> <span class="o">=</span> <span class="n">pitch</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_layout_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set a layout property for a layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_id: Unique identifier of the layer.</span>
<span class="sd">            name: Name of the layout property to set.</span>
<span class="sd">            value: Value to set for the property.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">call_js_method</span><span class="p">(</span><span class="s2">&quot;setLayoutProperty&quot;</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_paint_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set a paint property for a layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_id: Unique identifier of the layer.</span>
<span class="sd">            name: Name of the paint property to set.</span>
<span class="sd">            value: Value to set for the property.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">call_js_method</span><span class="p">(</span><span class="s2">&quot;setPaintProperty&quot;</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_visibility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">visible</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the visibility of a layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_id: Unique identifier of the layer.</span>
<span class="sd">            visible: Whether the layer should be visible.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">visible</span><span class="p">:</span>
            <span class="n">visibility</span> <span class="o">=</span> <span class="s2">&quot;visible&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">visibility</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>

        <span class="k">if</span> <span class="n">layer_id</span> <span class="o">==</span> <span class="s2">&quot;background&quot;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_style_layers</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_layout_property</span><span class="p">(</span><span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="s2">&quot;visibility&quot;</span><span class="p">,</span> <span class="n">visibility</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_layout_property</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="s2">&quot;visibility&quot;</span><span class="p">,</span> <span class="n">visibility</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">layer_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">[</span><span class="n">layer_id</span><span class="p">][</span><span class="s2">&quot;visible&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">visible</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_opacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">opacity</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the opacity of a layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_id: Unique identifier of the layer.</span>
<span class="sd">            opacity: Opacity value between 0.0 (transparent) and 1.0 (opaque).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">layer_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_layer_type</span><span class="p">(</span><span class="n">layer_id</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">layer_id</span> <span class="o">==</span> <span class="s2">&quot;background&quot;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_style_layers</span><span class="p">():</span>
                <span class="n">layer_type</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">layer_type</span> <span class="o">!=</span> <span class="s2">&quot;symbol&quot;</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">set_paint_property</span><span class="p">(</span>
                        <span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_type</span><span class="si">}</span><span class="s2">-opacity&quot;</span><span class="p">,</span> <span class="n">opacity</span>
                    <span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">set_paint_property</span><span class="p">(</span><span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="s2">&quot;icon-opacity&quot;</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">set_paint_property</span><span class="p">(</span><span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="s2">&quot;text-opacity&quot;</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">layer_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">:</span>
            <span class="n">layer_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">[</span><span class="n">layer_id</span><span class="p">][</span><span class="s2">&quot;layer&quot;</span><span class="p">][</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
            <span class="n">prop_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_type</span><span class="si">}</span><span class="s2">-opacity&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">[</span><span class="n">layer_id</span><span class="p">][</span><span class="s2">&quot;opacity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">opacity</span>
        <span class="k">elif</span> <span class="n">layer_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">style_dict</span><span class="p">:</span>
            <span class="n">layer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">style_dict</span><span class="p">[</span><span class="n">layer_id</span><span class="p">]</span>
            <span class="n">layer_type</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span>
            <span class="n">prop_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_type</span><span class="si">}</span><span class="s2">-opacity&quot;</span>
            <span class="k">if</span> <span class="s2">&quot;paint&quot;</span> <span class="ow">in</span> <span class="n">layer</span><span class="p">:</span>
                <span class="n">layer</span><span class="p">[</span><span class="s2">&quot;paint&quot;</span><span class="p">][</span><span class="n">prop_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">opacity</span>

        <span class="k">if</span> <span class="n">layer_type</span> <span class="o">!=</span> <span class="s2">&quot;symbol&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_paint_property</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_type</span><span class="si">}</span><span class="s2">-opacity&quot;</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_paint_property</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="s2">&quot;icon-opacity&quot;</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_paint_property</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="s2">&quot;text-opacity&quot;</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_layer_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the type of a layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_id: Unique identifier of the layer.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Layer type string, or None if layer doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">layer_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_layers</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_layers</span><span class="p">[</span><span class="n">layer_id</span><span class="p">][</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_style</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the style of the map.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dict: The style of the map.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_style</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
                <span class="n">style</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_style</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">style</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">return</span> <span class="n">style</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_style_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">return_ids</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">sorted</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the names of the basemap layers.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List[str]: The names of the basemap layers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_style</span><span class="p">()</span>
        <span class="k">if</span> <span class="s2">&quot;layers&quot;</span> <span class="ow">in</span> <span class="n">style</span><span class="p">:</span>
            <span class="n">layers</span> <span class="o">=</span> <span class="n">style</span><span class="p">[</span><span class="s2">&quot;layers&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">return_ids</span><span class="p">:</span>
                <span class="n">ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">layers</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">sorted</span><span class="p">:</span>
                    <span class="n">ids</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

                <span class="k">return</span> <span class="n">ids</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">layers</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_layer</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">layer</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">before_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">opacity</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="n">visible</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a layer to the map.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_id: Unique identifier for the layer.</span>
<span class="sd">            layer_config: Layer configuration dictionary containing</span>
<span class="sd">                         properties like type, source, paint, and layout.</span>
<span class="sd">            before_id: Optional layer ID to insert this layer before.</span>
<span class="sd">                      If None, layer is added on top.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Store layer in local state for persistence</span>
        <span class="n">current_layers</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_layers</span><span class="p">)</span>
        <span class="n">current_layers</span><span class="p">[</span><span class="n">layer_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">layer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_layers</span> <span class="o">=</span> <span class="n">current_layers</span>

        <span class="c1"># Call JavaScript method with before_id if provided</span>
        <span class="k">if</span> <span class="n">before_id</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">call_js_method</span><span class="p">(</span><span class="s2">&quot;addLayer&quot;</span><span class="p">,</span> <span class="n">layer</span><span class="p">,</span> <span class="n">before_id</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">call_js_method</span><span class="p">(</span><span class="s2">&quot;addLayer&quot;</span><span class="p">,</span> <span class="n">layer</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">set_visibility</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="n">visible</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_opacity</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">[</span><span class="n">layer_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;layer&quot;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
            <span class="s2">&quot;opacity&quot;</span><span class="p">:</span> <span class="n">opacity</span><span class="p">,</span>
            <span class="s2">&quot;visible&quot;</span><span class="p">:</span> <span class="n">visible</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">layer</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">],</span>
            <span class="c1"># &quot;color&quot;: color,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_geojson_layer</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">geojson_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">layer_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;fill&quot;</span><span class="p">,</span>
        <span class="n">paint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">before_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a GeoJSON layer to the map.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_id: Unique identifier for the layer.</span>
<span class="sd">            geojson_data: GeoJSON data as a dictionary.</span>
<span class="sd">            layer_type: Type of layer (e.g., &#39;fill&#39;, &#39;line&#39;, &#39;circle&#39;, &#39;symbol&#39;).</span>
<span class="sd">            paint: Optional paint properties for styling the layer.</span>
<span class="sd">            before_id: Optional layer ID to insert this layer before.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">source_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_id</span><span class="si">}</span><span class="s2">_source&quot;</span>

        <span class="c1"># Add source</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_source</span><span class="p">(</span><span class="n">source_id</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;geojson&quot;</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">geojson_data</span><span class="p">})</span>

        <span class="c1"># Add layer</span>
        <span class="n">layer_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">layer_id</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">layer_type</span><span class="p">,</span> <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">source_id</span><span class="p">}</span>

        <span class="k">if</span> <span class="n">paint</span><span class="p">:</span>
            <span class="n">layer_config</span><span class="p">[</span><span class="s2">&quot;paint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">paint</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="n">layer_config</span><span class="p">,</span> <span class="n">before_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_marker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">lng</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">popup</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a marker to the map.</span>

<span class="sd">        Args:</span>
<span class="sd">            lat: Latitude coordinate for the marker.</span>
<span class="sd">            lng: Longitude coordinate for the marker.</span>
<span class="sd">            popup: Optional popup text to display when marker is clicked.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">marker_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">lng</span><span class="p">,</span> <span class="n">lat</span><span class="p">],</span> <span class="s2">&quot;popup&quot;</span><span class="p">:</span> <span class="n">popup</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">call_js_method</span><span class="p">(</span><span class="s2">&quot;addMarker&quot;</span><span class="p">,</span> <span class="n">marker_data</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">fit_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bounds</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]],</span> <span class="n">padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Fit the map to given bounds.</span>

<span class="sd">        Args:</span>
<span class="sd">            bounds: Bounding box as [[south, west], [north, east]].</span>
<span class="sd">            padding: Padding around the bounds in pixels.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">call_js_method</span><span class="p">(</span><span class="s2">&quot;fitBounds&quot;</span><span class="p">,</span> <span class="n">bounds</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;padding&quot;</span><span class="p">:</span> <span class="n">padding</span><span class="p">})</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_tile_layer</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">source_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">attribution</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">opacity</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="n">visible</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">minzoom</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">maxzoom</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">paint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">layout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">before_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a raster tile layer to the map.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_id: Unique identifier for the layer.</span>
<span class="sd">            source_url: URL template for the tile source (e.g., &#39;https://example.com/{z}/{x}/{y}.png&#39;).</span>
<span class="sd">            attribution: Optional attribution text for the tile source.</span>
<span class="sd">            opacity: Layer opacity between 0.0 and 1.0.</span>
<span class="sd">            visible: Whether the layer should be visible initially.</span>
<span class="sd">            minzoom: Minimum zoom level for the layer.</span>
<span class="sd">            maxzoom: Maximum zoom level for the layer.</span>
<span class="sd">            paint: Optional paint properties for the layer.</span>
<span class="sd">            layout: Optional layout properties for the layer.</span>
<span class="sd">            before_id: Optional layer ID to insert this layer before.</span>
<span class="sd">            **kwargs: Additional source configuration options.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">source_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_id</span><span class="si">}</span><span class="s2">_source&quot;</span>

        <span class="c1"># Add raster source</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_source</span><span class="p">(</span>
            <span class="n">source_id</span><span class="p">,</span>
            <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;raster&quot;</span><span class="p">,</span> <span class="s2">&quot;tiles&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">source_url</span><span class="p">],</span> <span class="s2">&quot;tileSize&quot;</span><span class="p">:</span> <span class="mi">256</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">},</span>
        <span class="p">)</span>

        <span class="c1"># Add raster layer</span>
        <span class="n">layer_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">layer_id</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;raster&quot;</span><span class="p">,</span> <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">source_id</span><span class="p">}</span>

        <span class="k">if</span> <span class="n">paint</span><span class="p">:</span>
            <span class="n">layer_config</span><span class="p">[</span><span class="s2">&quot;paint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">paint</span>
        <span class="k">if</span> <span class="n">layout</span><span class="p">:</span>
            <span class="n">layer_config</span><span class="p">[</span><span class="s2">&quot;layout&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">layout</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="n">layer_config</span><span class="p">,</span> <span class="n">before_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_vector_layer</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">source_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">source_layer</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">layer_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;fill&quot;</span><span class="p">,</span>
        <span class="n">paint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">layout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">before_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a vector tile layer to the map.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_id: Unique identifier for the layer.</span>
<span class="sd">            source_url: URL for the vector tile source.</span>
<span class="sd">            source_layer: Name of the source layer within the vector tiles.</span>
<span class="sd">            layer_type: Type of layer (e.g., &#39;fill&#39;, &#39;line&#39;, &#39;circle&#39;, &#39;symbol&#39;).</span>
<span class="sd">            paint: Optional paint properties for styling the layer.</span>
<span class="sd">            layout: Optional layout properties for the layer.</span>
<span class="sd">            before_id: Optional layer ID to insert this layer before.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">source_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_id</span><span class="si">}</span><span class="s2">_source&quot;</span>

        <span class="c1"># Add vector source</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_source</span><span class="p">(</span><span class="n">source_id</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;vector&quot;</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">source_url</span><span class="p">})</span>

        <span class="c1"># Add vector layer</span>
        <span class="n">layer_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">layer_id</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">layer_type</span><span class="p">,</span>
            <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">source_id</span><span class="p">,</span>
            <span class="s2">&quot;source-layer&quot;</span><span class="p">:</span> <span class="n">source_layer</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">paint</span><span class="p">:</span>
            <span class="n">layer_config</span><span class="p">[</span><span class="s2">&quot;paint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">paint</span>
        <span class="k">if</span> <span class="n">layout</span><span class="p">:</span>
            <span class="n">layer_config</span><span class="p">[</span><span class="s2">&quot;layout&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">layout</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="n">layer_config</span><span class="p">,</span> <span class="n">before_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_image_layer</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">image_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">coordinates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]],</span>
        <span class="n">paint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">before_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add an image layer to the map.</span>

<span class="sd">        Args:</span>
<span class="sd">            layer_id: Unique identifier for the layer.</span>
<span class="sd">            image_url: URL of the image to display.</span>
<span class="sd">            coordinates: Corner coordinates of the image as [[top-left], [top-right], [bottom-right], [bottom-left]].</span>
<span class="sd">                        Each coordinate should be [longitude, latitude].</span>
<span class="sd">            paint: Optional paint properties for the image layer.</span>
<span class="sd">            before_id: Optional layer ID to insert this layer before.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">source_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_id</span><span class="si">}</span><span class="s2">_source&quot;</span>

        <span class="c1"># Add image source</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_source</span><span class="p">(</span>
            <span class="n">source_id</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;image&quot;</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">image_url</span><span class="p">,</span> <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="n">coordinates</span><span class="p">}</span>
        <span class="p">)</span>

        <span class="c1"># Add raster layer for the image</span>
        <span class="n">layer_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">layer_id</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;raster&quot;</span><span class="p">,</span> <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">source_id</span><span class="p">}</span>

        <span class="k">if</span> <span class="n">paint</span><span class="p">:</span>
            <span class="n">layer_config</span><span class="p">[</span><span class="s2">&quot;paint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">paint</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="n">layer_config</span><span class="p">,</span> <span class="n">before_id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_basemap</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">basemap</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">layer_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">before_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add a basemap to the map using xyzservices providers.</span>

<span class="sd">        Args:</span>
<span class="sd">            basemap: Name of the basemap from xyzservices (e.g., &quot;Esri.WorldImagery&quot;).</span>
<span class="sd">                    Use available_basemaps to see all available options.</span>
<span class="sd">            layer_id: Optional ID for the basemap layer. If None, uses basemap name.</span>
<span class="sd">            before_id: Optional layer ID to insert this layer before.</span>
<span class="sd">                      If None, layer is added on top.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the specified basemap is not available.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">.basemaps</span><span class="w"> </span><span class="kn">import</span> <span class="n">available_basemaps</span>

        <span class="k">if</span> <span class="n">basemap</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">available_basemaps</span><span class="p">:</span>
            <span class="n">available_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">available_basemaps</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Basemap &#39;</span><span class="si">{</span><span class="n">basemap</span><span class="si">}</span><span class="s2">&#39; not found. Available basemaps: </span><span class="si">{</span><span class="n">available_names</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">basemap_config</span> <span class="o">=</span> <span class="n">available_basemaps</span><span class="p">[</span><span class="n">basemap</span><span class="p">]</span>

        <span class="c1"># Convert xyzservices URL template to tile URL</span>
        <span class="n">tile_url</span> <span class="o">=</span> <span class="n">basemap_config</span><span class="o">.</span><span class="n">build_url</span><span class="p">()</span>

        <span class="c1"># Get attribution if available</span>
        <span class="n">attribution</span> <span class="o">=</span> <span class="n">basemap_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;attribution&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">layer_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">layer_id</span> <span class="o">=</span> <span class="n">basemap</span>

        <span class="c1"># Add as raster layer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_tile_layer</span><span class="p">(</span>
            <span class="n">layer_id</span><span class="o">=</span><span class="n">layer_id</span><span class="p">,</span>
            <span class="n">source_url</span><span class="o">=</span><span class="n">tile_url</span><span class="p">,</span>
            <span class="n">paint</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;raster-opacity&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">},</span>
            <span class="n">before_id</span><span class="o">=</span><span class="n">before_id</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_generate_html_template</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">map_state</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generate HTML template for MapLibre GL JS.</span>

<span class="sd">        Args:</span>
<span class="sd">            map_state: Dictionary containing the current map state including</span>
<span class="sd">                      center, zoom, style, layers, and sources.</span>
<span class="sd">            title: Title for the HTML page.</span>
<span class="sd">            **kwargs: Additional arguments for template customization.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Complete HTML string for a standalone MapLibre GL JS map.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Serialize map state for JavaScript</span>
        <span class="n">map_state_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">map_state</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

        <span class="n">html_template</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;&lt;!DOCTYPE html&gt;</span>
<span class="s2">&lt;html&gt;</span>
<span class="s2">&lt;head&gt;</span>
<span class="s2">    &lt;title&gt;</span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">&lt;/title&gt;</span>
<span class="s2">    &lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span>
<span class="s2">    &lt;script src=&quot;https://unpkg.com/maplibre-gl@5.6.1/dist/maplibre-gl.js&quot;&gt;&lt;/script&gt;</span>
<span class="s2">    &lt;link href=&quot;https://unpkg.com/maplibre-gl@5.6.1/dist/maplibre-gl.css&quot; rel=&quot;stylesheet&quot;&gt;</span>
<span class="s2">    &lt;style&gt;</span>
<span class="s2">        body </span><span class="se">{{</span>
<span class="s2">            margin: 0;</span>
<span class="s2">            padding: 20px;</span>
<span class="s2">            font-family: Arial, sans-serif;</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">        #map </span><span class="se">{{</span>
<span class="s2">            width: </span><span class="si">{</span><span class="n">map_state</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">;</span>
<span class="s2">            height: </span><span class="si">{</span><span class="n">map_state</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">;</span>
<span class="s2">            border: 1px solid #ccc;</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">        h1 </span><span class="se">{{</span>
<span class="s2">            margin-top: 0;</span>
<span class="s2">            color: #333;</span>
<span class="s2">        </span><span class="se">}}</span>
<span class="s2">    &lt;/style&gt;</span>
<span class="s2">&lt;/head&gt;</span>
<span class="s2">&lt;body&gt;</span>
<span class="s2">    &lt;h1&gt;</span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">&lt;/h1&gt;</span>
<span class="s2">    &lt;div id=&quot;map&quot;&gt;&lt;/div&gt;</span>

<span class="s2">    &lt;script&gt;</span>
<span class="s2">        // Map state from Python</span>
<span class="s2">        const mapState = </span><span class="si">{</span><span class="n">map_state_json</span><span class="si">}</span><span class="s2">;</span>

<span class="s2">        // Initialize MapLibre map</span>
<span class="s2">        const map = new maplibregl.Map(</span><span class="se">{{</span>
<span class="s2">            container: &#39;map&#39;,</span>
<span class="s2">            style: mapState.style || &#39;https://demotiles.maplibre.org/style.json&#39;,</span>
<span class="s2">            center: [mapState.center[1], mapState.center[0]], // Convert [lat, lng] to [lng, lat]</span>
<span class="s2">            zoom: mapState.zoom || 2,</span>
<span class="s2">            bearing: mapState.bearing || 0,</span>
<span class="s2">            pitch: mapState.pitch || 0,</span>
<span class="s2">            antialias: mapState.antialias !== undefined ? mapState.antialias : true</span>
<span class="s2">        </span><span class="se">}}</span><span class="s2">);</span>

<span class="s2">        // Restore layers and sources after map loads</span>
<span class="s2">        map.on(&#39;load&#39;, function() </span><span class="se">{{</span>
<span class="s2">            // Add sources first</span>
<span class="s2">            const sources = mapState._sources || </span><span class="se">{{}}</span><span class="s2">;</span>
<span class="s2">            Object.entries(sources).forEach(([sourceId, sourceConfig]) =&gt; </span><span class="se">{{</span>
<span class="s2">                try </span><span class="se">{{</span>
<span class="s2">                    map.addSource(sourceId, sourceConfig);</span>
<span class="s2">                </span><span class="se">}}</span><span class="s2"> catch (error) </span><span class="se">{{</span>
<span class="s2">                    console.warn(`Failed to add source $</span><span class="se">{{</span><span class="s2">sourceId</span><span class="se">}}</span><span class="s2">:`, error);</span>
<span class="s2">                </span><span class="se">}}</span>
<span class="s2">            </span><span class="se">}}</span><span class="s2">);</span>

<span class="s2">            // Then add layers</span>
<span class="s2">            const layers = mapState._layers || </span><span class="se">{{}}</span><span class="s2">;</span>
<span class="s2">            Object.entries(layers).forEach(([layerId, layerConfig]) =&gt; </span><span class="se">{{</span>
<span class="s2">                try </span><span class="se">{{</span>
<span class="s2">                    map.addLayer(layerConfig);</span>
<span class="s2">                </span><span class="se">}}</span><span class="s2"> catch (error) </span><span class="se">{{</span>
<span class="s2">                    console.warn(`Failed to add layer $</span><span class="se">{{</span><span class="s2">layerId</span><span class="se">}}</span><span class="s2">:`, error);</span>
<span class="s2">                </span><span class="se">}}</span>
<span class="s2">            </span><span class="se">}}</span><span class="s2">);</span>
<span class="s2">        </span><span class="se">}}</span><span class="s2">);</span>

<span class="s2">        // Add navigation controls</span>
<span class="s2">        map.addControl(new maplibregl.NavigationControl());</span>

<span class="s2">        // Add scale control</span>
<span class="s2">        map.addControl(new maplibregl.ScaleControl());</span>

<span class="s2">        // Log map events for debugging</span>
<span class="s2">        map.on(&#39;click&#39;, function(e) </span><span class="se">{{</span>
<span class="s2">            console.log(&#39;Map clicked at:&#39;, e.lngLat);</span>
<span class="s2">        </span><span class="se">}}</span><span class="s2">);</span>

<span class="s2">        map.on(&#39;load&#39;, function() </span><span class="se">{{</span>
<span class="s2">            console.log(&#39;Map loaded successfully&#39;);</span>
<span class="s2">        </span><span class="se">}}</span><span class="s2">);</span>

<span class="s2">        map.on(&#39;error&#39;, function(e) </span><span class="se">{{</span>
<span class="s2">            console.error(&#39;Map error:&#39;, e);</span>
<span class="s2">        </span><span class="se">}}</span><span class="s2">);</span>
<span class="s2">    &lt;/script&gt;</span>
<span class="s2">&lt;/body&gt;</span>
<span class="s2">&lt;/html&gt;&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">html_template</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-attribute">



<h3 id="anymap.maplibre.MapLibreMap.sidebar_widgets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">sidebar_widgets</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ipywidgets</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">widget</span><span class="o">.</span><span class="n">Widget</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a href="#anymap.maplibre.MapLibreMap.sidebar_widgets" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Returns a dictionary of widgets currently in the sidebar.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict[str, widgets.Widget]</code></td>
      <td><p>A dictionary where keys are the labels of the widgets and values are the widgets themselves.</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>







  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;dark-matter&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;600px&#39;</span><span class="p">,</span> <span class="n">bearing</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">pitch</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">add_sidebar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sidebar_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sidebar_width</span><span class="o">=</span><span class="mi">360</span><span class="p">,</span> <span class="n">sidebar_args</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">layer_manager_expanded</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#anymap.maplibre.MapLibreMap.__init__" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Initialize MapLibre map widget.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>center</code></td>
        <td><code>List[float]</code></td>
        <td><p>Map center coordinates as [latitude, longitude].</p></td>
        <td><code>[0.0, 20]</code></td>
      </tr>
      <tr>
        <td><code>zoom</code></td>
        <td><code>float</code></td>
        <td><p>Initial zoom level (typically 0-20).</p></td>
        <td><code>1.0</code></td>
      </tr>
      <tr>
        <td><code>style</code></td>
        <td><code>Union[str, Dict[str, Any]]</code></td>
        <td><p>MapLibre style URL string or style object dictionary.</p></td>
        <td><code>&#39;dark-matter&#39;</code></td>
      </tr>
      <tr>
        <td><code>width</code></td>
        <td><code>str</code></td>
        <td><p>Widget width as CSS string (e.g., "100%", "800px").</p></td>
        <td><code>&#39;100%&#39;</code></td>
      </tr>
      <tr>
        <td><code>height</code></td>
        <td><code>str</code></td>
        <td><p>Widget height as CSS string (e.g., "600px", "50vh").</p></td>
        <td><code>&#39;600px&#39;</code></td>
      </tr>
      <tr>
        <td><code>bearing</code></td>
        <td><code>float</code></td>
        <td><p>Map bearing (rotation) in degrees (0-360).</p></td>
        <td><code>0.0</code></td>
      </tr>
      <tr>
        <td><code>pitch</code></td>
        <td><code>float</code></td>
        <td><p>Map pitch (tilt) in degrees (0-60).</p></td>
        <td><code>0.0</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments passed to parent class.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">center</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span>
    <span class="n">zoom</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">style</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="s2">&quot;dark-matter&quot;</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;100%&quot;</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;600px&quot;</span><span class="p">,</span>
    <span class="n">bearing</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">pitch</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">add_sidebar</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">sidebar_visible</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">sidebar_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">360</span><span class="p">,</span>
    <span class="n">sidebar_args</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">layer_manager_expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize MapLibre map widget.</span>

<span class="sd">    Args:</span>
<span class="sd">        center: Map center coordinates as [latitude, longitude].</span>
<span class="sd">        zoom: Initial zoom level (typically 0-20).</span>
<span class="sd">        style: MapLibre style URL string or style object dictionary.</span>
<span class="sd">        width: Widget width as CSS string (e.g., &quot;100%&quot;, &quot;800px&quot;).</span>
<span class="sd">        height: Widget height as CSS string (e.g., &quot;600px&quot;, &quot;50vh&quot;).</span>
<span class="sd">        bearing: Map bearing (rotation) in degrees (0-360).</span>
<span class="sd">        pitch: Map pitch (tilt) in degrees (0-60).</span>
<span class="sd">        **kwargs: Additional keyword arguments passed to parent class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">style</span> <span class="o">=</span> <span class="n">construct_maplibre_style</span><span class="p">(</span><span class="n">style</span><span class="p">)</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
        <span class="n">center</span><span class="o">=</span><span class="n">center</span><span class="p">,</span>
        <span class="n">zoom</span><span class="o">=</span><span class="n">zoom</span><span class="p">,</span>
        <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
        <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
        <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span>
        <span class="n">bearing</span><span class="o">=</span><span class="n">bearing</span><span class="p">,</span>
        <span class="n">pitch</span><span class="o">=</span><span class="n">pitch</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">[</span><span class="s2">&quot;background&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;layer&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;background&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;background&quot;</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="s2">&quot;opacity&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="s2">&quot;visible&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;background&quot;</span><span class="p">,</span>
        <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_style</span> <span class="o">=</span> <span class="n">style</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">style_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_style_layers</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">style_dict</span><span class="p">[</span><span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">layer</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">source_dict</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">if</span> <span class="n">sidebar_args</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">sidebar_args</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="s2">&quot;sidebar_visible&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sidebar_args</span><span class="p">:</span>
        <span class="n">sidebar_args</span><span class="p">[</span><span class="s2">&quot;sidebar_visible&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sidebar_visible</span>
    <span class="k">if</span> <span class="s2">&quot;sidebar_width&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sidebar_args</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sidebar_width</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">sidebar_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sidebar_width</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
        <span class="n">sidebar_args</span><span class="p">[</span><span class="s2">&quot;min_width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sidebar_width</span>
        <span class="n">sidebar_args</span><span class="p">[</span><span class="s2">&quot;max_width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sidebar_width</span>
    <span class="k">if</span> <span class="s2">&quot;expanded&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sidebar_args</span><span class="p">:</span>
        <span class="n">sidebar_args</span><span class="p">[</span><span class="s2">&quot;expanded&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">layer_manager_expanded</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span> <span class="o">=</span> <span class="n">sidebar_args</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">add_sidebar</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ipython_display_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_patched_display</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.add_basemap" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_basemap</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">basemap</span><span class="p">,</span> <span class="n">layer_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">before_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.add_basemap" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Add a basemap to the map using xyzservices providers.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>basemap</code></td>
        <td><code>str</code></td>
        <td><p>Name of the basemap from xyzservices (e.g., "Esri.WorldImagery").
    Use available_basemaps to see all available options.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>layer_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional ID for the basemap layer. If None, uses basemap name.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>before_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional layer ID to insert this layer before.
      If None, layer is added on top.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>If the specified basemap is not available.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_basemap</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">basemap</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">layer_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">before_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a basemap to the map using xyzservices providers.</span>

<span class="sd">    Args:</span>
<span class="sd">        basemap: Name of the basemap from xyzservices (e.g., &quot;Esri.WorldImagery&quot;).</span>
<span class="sd">                Use available_basemaps to see all available options.</span>
<span class="sd">        layer_id: Optional ID for the basemap layer. If None, uses basemap name.</span>
<span class="sd">        before_id: Optional layer ID to insert this layer before.</span>
<span class="sd">                  If None, layer is added on top.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: If the specified basemap is not available.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">.basemaps</span><span class="w"> </span><span class="kn">import</span> <span class="n">available_basemaps</span>

    <span class="k">if</span> <span class="n">basemap</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">available_basemaps</span><span class="p">:</span>
        <span class="n">available_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">available_basemaps</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Basemap &#39;</span><span class="si">{</span><span class="n">basemap</span><span class="si">}</span><span class="s2">&#39; not found. Available basemaps: </span><span class="si">{</span><span class="n">available_names</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">basemap_config</span> <span class="o">=</span> <span class="n">available_basemaps</span><span class="p">[</span><span class="n">basemap</span><span class="p">]</span>

    <span class="c1"># Convert xyzservices URL template to tile URL</span>
    <span class="n">tile_url</span> <span class="o">=</span> <span class="n">basemap_config</span><span class="o">.</span><span class="n">build_url</span><span class="p">()</span>

    <span class="c1"># Get attribution if available</span>
    <span class="n">attribution</span> <span class="o">=</span> <span class="n">basemap_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;attribution&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">layer_id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">layer_id</span> <span class="o">=</span> <span class="n">basemap</span>

    <span class="c1"># Add as raster layer</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_tile_layer</span><span class="p">(</span>
        <span class="n">layer_id</span><span class="o">=</span><span class="n">layer_id</span><span class="p">,</span>
        <span class="n">source_url</span><span class="o">=</span><span class="n">tile_url</span><span class="p">,</span>
        <span class="n">paint</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;raster-opacity&quot;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">},</span>
        <span class="n">before_id</span><span class="o">=</span><span class="n">before_id</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.add_geojson_layer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_geojson_layer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">,</span> <span class="n">geojson_data</span><span class="p">,</span> <span class="n">layer_type</span><span class="o">=</span><span class="s1">&#39;fill&#39;</span><span class="p">,</span> <span class="n">paint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">before_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.add_geojson_layer" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Add a GeoJSON layer to the map.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_id</code></td>
        <td><code>str</code></td>
        <td><p>Unique identifier for the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>geojson_data</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>GeoJSON data as a dictionary.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>layer_type</code></td>
        <td><code>str</code></td>
        <td><p>Type of layer (e.g., 'fill', 'line', 'circle', 'symbol').</p></td>
        <td><code>&#39;fill&#39;</code></td>
      </tr>
      <tr>
        <td><code>paint</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Optional paint properties for styling the layer.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>before_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional layer ID to insert this layer before.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_geojson_layer</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">geojson_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">layer_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;fill&quot;</span><span class="p">,</span>
    <span class="n">paint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">before_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a GeoJSON layer to the map.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_id: Unique identifier for the layer.</span>
<span class="sd">        geojson_data: GeoJSON data as a dictionary.</span>
<span class="sd">        layer_type: Type of layer (e.g., &#39;fill&#39;, &#39;line&#39;, &#39;circle&#39;, &#39;symbol&#39;).</span>
<span class="sd">        paint: Optional paint properties for styling the layer.</span>
<span class="sd">        before_id: Optional layer ID to insert this layer before.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">source_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_id</span><span class="si">}</span><span class="s2">_source&quot;</span>

    <span class="c1"># Add source</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_source</span><span class="p">(</span><span class="n">source_id</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;geojson&quot;</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">geojson_data</span><span class="p">})</span>

    <span class="c1"># Add layer</span>
    <span class="n">layer_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">layer_id</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">layer_type</span><span class="p">,</span> <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">source_id</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">paint</span><span class="p">:</span>
        <span class="n">layer_config</span><span class="p">[</span><span class="s2">&quot;paint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">paint</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="n">layer_config</span><span class="p">,</span> <span class="n">before_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.add_image_layer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_image_layer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">,</span> <span class="n">image_url</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">,</span> <span class="n">paint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">before_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.add_image_layer" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Add an image layer to the map.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_id</code></td>
        <td><code>str</code></td>
        <td><p>Unique identifier for the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>image_url</code></td>
        <td><code>str</code></td>
        <td><p>URL of the image to display.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>coordinates</code></td>
        <td><code>List[List[float]]</code></td>
        <td><p>Corner coordinates of the image as [[top-left], [top-right], [bottom-right], [bottom-left]].
        Each coordinate should be [longitude, latitude].</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>paint</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Optional paint properties for the image layer.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>before_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional layer ID to insert this layer before.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_image_layer</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">image_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">coordinates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]],</span>
    <span class="n">paint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">before_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add an image layer to the map.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_id: Unique identifier for the layer.</span>
<span class="sd">        image_url: URL of the image to display.</span>
<span class="sd">        coordinates: Corner coordinates of the image as [[top-left], [top-right], [bottom-right], [bottom-left]].</span>
<span class="sd">                    Each coordinate should be [longitude, latitude].</span>
<span class="sd">        paint: Optional paint properties for the image layer.</span>
<span class="sd">        before_id: Optional layer ID to insert this layer before.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">source_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_id</span><span class="si">}</span><span class="s2">_source&quot;</span>

    <span class="c1"># Add image source</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_source</span><span class="p">(</span>
        <span class="n">source_id</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;image&quot;</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">image_url</span><span class="p">,</span> <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="n">coordinates</span><span class="p">}</span>
    <span class="p">)</span>

    <span class="c1"># Add raster layer for the image</span>
    <span class="n">layer_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">layer_id</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;raster&quot;</span><span class="p">,</span> <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">source_id</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">paint</span><span class="p">:</span>
        <span class="n">layer_config</span><span class="p">[</span><span class="s2">&quot;paint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">paint</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="n">layer_config</span><span class="p">,</span> <span class="n">before_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.add_layer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_layer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">,</span> <span class="n">layer</span><span class="p">,</span> <span class="n">before_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.add_layer" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Add a layer to the map.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_id</code></td>
        <td><code>str</code></td>
        <td><p>Unique identifier for the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>layer_config</code></td>
        <td></td>
        <td><p>Layer configuration dictionary containing
         properties like type, source, paint, and layout.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>before_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional layer ID to insert this layer before.
      If None, layer is added on top.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_layer</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">layer</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">before_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">opacity</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">visible</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a layer to the map.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_id: Unique identifier for the layer.</span>
<span class="sd">        layer_config: Layer configuration dictionary containing</span>
<span class="sd">                     properties like type, source, paint, and layout.</span>
<span class="sd">        before_id: Optional layer ID to insert this layer before.</span>
<span class="sd">                  If None, layer is added on top.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Store layer in local state for persistence</span>
    <span class="n">current_layers</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_layers</span><span class="p">)</span>
    <span class="n">current_layers</span><span class="p">[</span><span class="n">layer_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">layer</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_layers</span> <span class="o">=</span> <span class="n">current_layers</span>

    <span class="c1"># Call JavaScript method with before_id if provided</span>
    <span class="k">if</span> <span class="n">before_id</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">call_js_method</span><span class="p">(</span><span class="s2">&quot;addLayer&quot;</span><span class="p">,</span> <span class="n">layer</span><span class="p">,</span> <span class="n">before_id</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">call_js_method</span><span class="p">(</span><span class="s2">&quot;addLayer&quot;</span><span class="p">,</span> <span class="n">layer</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">set_visibility</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="n">visible</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_opacity</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">[</span><span class="n">layer_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;layer&quot;</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
        <span class="s2">&quot;opacity&quot;</span><span class="p">:</span> <span class="n">opacity</span><span class="p">,</span>
        <span class="s2">&quot;visible&quot;</span><span class="p">:</span> <span class="n">visible</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">layer</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">],</span>
        <span class="c1"># &quot;color&quot;: color,</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.add_marker" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_marker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lng</span><span class="p">,</span> <span class="n">popup</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.add_marker" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Add a marker to the map.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>lat</code></td>
        <td><code>float</code></td>
        <td><p>Latitude coordinate for the marker.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>lng</code></td>
        <td><code>float</code></td>
        <td><p>Longitude coordinate for the marker.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>popup</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional popup text to display when marker is clicked.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_marker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lat</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">lng</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">popup</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a marker to the map.</span>

<span class="sd">    Args:</span>
<span class="sd">        lat: Latitude coordinate for the marker.</span>
<span class="sd">        lng: Longitude coordinate for the marker.</span>
<span class="sd">        popup: Optional popup text to display when marker is clicked.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">marker_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">lng</span><span class="p">,</span> <span class="n">lat</span><span class="p">],</span> <span class="s2">&quot;popup&quot;</span><span class="p">:</span> <span class="n">popup</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">call_js_method</span><span class="p">(</span><span class="s2">&quot;addMarker&quot;</span><span class="p">,</span> <span class="n">marker_data</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.add_tile_layer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_tile_layer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">,</span> <span class="n">source_url</span><span class="p">,</span> <span class="n">attribution</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">minzoom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">maxzoom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">paint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">before_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.add_tile_layer" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Add a raster tile layer to the map.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_id</code></td>
        <td><code>str</code></td>
        <td><p>Unique identifier for the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>source_url</code></td>
        <td><code>str</code></td>
        <td><p>URL template for the tile source (e.g., 'https://example.com/{z}/{x}/{y}.png').</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>attribution</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional attribution text for the tile source.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>opacity</code></td>
        <td><code>Optional[float]</code></td>
        <td><p>Layer opacity between 0.0 and 1.0.</p></td>
        <td><code>1.0</code></td>
      </tr>
      <tr>
        <td><code>visible</code></td>
        <td><code>Optional[bool]</code></td>
        <td><p>Whether the layer should be visible initially.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>minzoom</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>Minimum zoom level for the layer.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>maxzoom</code></td>
        <td><code>Optional[int]</code></td>
        <td><p>Maximum zoom level for the layer.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>paint</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Optional paint properties for the layer.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>layout</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Optional layout properties for the layer.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>before_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional layer ID to insert this layer before.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional source configuration options.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_tile_layer</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">source_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">attribution</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">opacity</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">visible</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">minzoom</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">maxzoom</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">paint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">layout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">before_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a raster tile layer to the map.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_id: Unique identifier for the layer.</span>
<span class="sd">        source_url: URL template for the tile source (e.g., &#39;https://example.com/{z}/{x}/{y}.png&#39;).</span>
<span class="sd">        attribution: Optional attribution text for the tile source.</span>
<span class="sd">        opacity: Layer opacity between 0.0 and 1.0.</span>
<span class="sd">        visible: Whether the layer should be visible initially.</span>
<span class="sd">        minzoom: Minimum zoom level for the layer.</span>
<span class="sd">        maxzoom: Maximum zoom level for the layer.</span>
<span class="sd">        paint: Optional paint properties for the layer.</span>
<span class="sd">        layout: Optional layout properties for the layer.</span>
<span class="sd">        before_id: Optional layer ID to insert this layer before.</span>
<span class="sd">        **kwargs: Additional source configuration options.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">source_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_id</span><span class="si">}</span><span class="s2">_source&quot;</span>

    <span class="c1"># Add raster source</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_source</span><span class="p">(</span>
        <span class="n">source_id</span><span class="p">,</span>
        <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;raster&quot;</span><span class="p">,</span> <span class="s2">&quot;tiles&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">source_url</span><span class="p">],</span> <span class="s2">&quot;tileSize&quot;</span><span class="p">:</span> <span class="mi">256</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">},</span>
    <span class="p">)</span>

    <span class="c1"># Add raster layer</span>
    <span class="n">layer_config</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">layer_id</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;raster&quot;</span><span class="p">,</span> <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">source_id</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">paint</span><span class="p">:</span>
        <span class="n">layer_config</span><span class="p">[</span><span class="s2">&quot;paint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">paint</span>
    <span class="k">if</span> <span class="n">layout</span><span class="p">:</span>
        <span class="n">layer_config</span><span class="p">[</span><span class="s2">&quot;layout&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">layout</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="n">layer_config</span><span class="p">,</span> <span class="n">before_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.add_to_sidebar" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_to_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">add_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">widget_icon</span><span class="o">=</span><span class="s1">&#39;mdi-tools&#39;</span><span class="p">,</span> <span class="n">close_icon</span><span class="o">=</span><span class="s1">&#39;mdi-close&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;My Tools&#39;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;#f5f5f5&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;40px&#39;</span><span class="p">,</span> <span class="n">expanded</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.add_to_sidebar" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Appends a widget to the sidebar content.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>widget</code></td>
        <td><code>Optional[Union[widgets.Widget, List[widgets.Widget]]]</code></td>
        <td><p>Initial widget(s) to display in the content box.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>widget_icon</code></td>
        <td><code>str</code></td>
        <td><p>Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</p></td>
        <td><code>&#39;mdi-tools&#39;</code></td>
      </tr>
      <tr>
        <td><code>close_icon</code></td>
        <td><code>str</code></td>
        <td><p>Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</p></td>
        <td><code>&#39;mdi-close&#39;</code></td>
      </tr>
      <tr>
        <td><code>background_color</code></td>
        <td><code>str</code></td>
        <td><p>Background color of the header. Defaults to "#f5f5f5".</p></td>
        <td><code>&#39;#f5f5f5&#39;</code></td>
      </tr>
      <tr>
        <td><code>label</code></td>
        <td><code>str</code></td>
        <td><p>Text label for the header. Defaults to "My Tools".</p></td>
        <td><code>&#39;My Tools&#39;</code></td>
      </tr>
      <tr>
        <td><code>height</code></td>
        <td><code>str</code></td>
        <td><p>Height of the header. Defaults to "40px".</p></td>
        <td><code>&#39;40px&#39;</code></td>
      </tr>
      <tr>
        <td><code>expanded</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the panel is expanded by default. Defaults to True.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments for the parent class.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_to_sidebar</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">,</span>
    <span class="n">add_header</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">widget_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-tools&quot;</span><span class="p">,</span>
    <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
    <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;My Tools&quot;</span><span class="p">,</span>
    <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
    <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Appends a widget to the sidebar content.</span>

<span class="sd">    Args:</span>
<span class="sd">        widget (Optional[Union[widgets.Widget, List[widgets.Widget]]]): Initial widget(s) to display in the content box.</span>
<span class="sd">        widget_icon (str): Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">        close_icon (str): Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">        background_color (str): Background color of the header. Defaults to &quot;#f5f5f5&quot;.</span>
<span class="sd">        label (str): Text label for the header. Defaults to &quot;My Tools&quot;.</span>
<span class="sd">        height (str): Height of the header. Defaults to &quot;40px&quot;.</span>
<span class="sd">        expanded (bool): Whether the panel is expanded by default. Defaults to True.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_container</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">add_to_sidebar</span><span class="p">(</span>
        <span class="n">widget</span><span class="p">,</span>
        <span class="n">add_header</span><span class="o">=</span><span class="n">add_header</span><span class="p">,</span>
        <span class="n">widget_icon</span><span class="o">=</span><span class="n">widget_icon</span><span class="p">,</span>
        <span class="n">close_icon</span><span class="o">=</span><span class="n">close_icon</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
        <span class="n">background_color</span><span class="o">=</span><span class="n">background_color</span><span class="p">,</span>
        <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
        <span class="n">expanded</span><span class="o">=</span><span class="n">expanded</span><span class="p">,</span>
        <span class="n">host_map</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.add_vector_layer" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_vector_layer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">,</span> <span class="n">source_url</span><span class="p">,</span> <span class="n">source_layer</span><span class="p">,</span> <span class="n">layer_type</span><span class="o">=</span><span class="s1">&#39;fill&#39;</span><span class="p">,</span> <span class="n">paint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">before_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.add_vector_layer" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Add a vector tile layer to the map.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_id</code></td>
        <td><code>str</code></td>
        <td><p>Unique identifier for the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>source_url</code></td>
        <td><code>str</code></td>
        <td><p>URL for the vector tile source.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>source_layer</code></td>
        <td><code>str</code></td>
        <td><p>Name of the source layer within the vector tiles.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>layer_type</code></td>
        <td><code>str</code></td>
        <td><p>Type of layer (e.g., 'fill', 'line', 'circle', 'symbol').</p></td>
        <td><code>&#39;fill&#39;</code></td>
      </tr>
      <tr>
        <td><code>paint</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Optional paint properties for styling the layer.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>layout</code></td>
        <td><code>Optional[Dict[str, Any]]</code></td>
        <td><p>Optional layout properties for the layer.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>before_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Optional layer ID to insert this layer before.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_vector_layer</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">source_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">source_layer</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">layer_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;fill&quot;</span><span class="p">,</span>
    <span class="n">paint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">layout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">before_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add a vector tile layer to the map.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_id: Unique identifier for the layer.</span>
<span class="sd">        source_url: URL for the vector tile source.</span>
<span class="sd">        source_layer: Name of the source layer within the vector tiles.</span>
<span class="sd">        layer_type: Type of layer (e.g., &#39;fill&#39;, &#39;line&#39;, &#39;circle&#39;, &#39;symbol&#39;).</span>
<span class="sd">        paint: Optional paint properties for styling the layer.</span>
<span class="sd">        layout: Optional layout properties for the layer.</span>
<span class="sd">        before_id: Optional layer ID to insert this layer before.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">source_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_id</span><span class="si">}</span><span class="s2">_source&quot;</span>

    <span class="c1"># Add vector source</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_source</span><span class="p">(</span><span class="n">source_id</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;vector&quot;</span><span class="p">,</span> <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="n">source_url</span><span class="p">})</span>

    <span class="c1"># Add vector layer</span>
    <span class="n">layer_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">layer_id</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">layer_type</span><span class="p">,</span>
        <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="n">source_id</span><span class="p">,</span>
        <span class="s2">&quot;source-layer&quot;</span><span class="p">:</span> <span class="n">source_layer</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="n">paint</span><span class="p">:</span>
        <span class="n">layer_config</span><span class="p">[</span><span class="s2">&quot;paint&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">paint</span>
    <span class="k">if</span> <span class="n">layout</span><span class="p">:</span>
        <span class="n">layer_config</span><span class="p">[</span><span class="s2">&quot;layout&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">layout</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="n">layer_config</span><span class="p">,</span> <span class="n">before_id</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.create_container" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_container</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sidebar_visible</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">expanded</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.create_container" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Creates a container widget for the map with an optional sidebar.</p>
<p>This method initializes a <code>LayerManagerWidget</code> and a <code>Container</code> widget to display the map
alongside a sidebar. The sidebar can be customized with visibility, width, and additional content.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sidebar_visible</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the sidebar is visible. Defaults to False.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>min_width</code></td>
        <td><code>int</code></td>
        <td><p>Minimum width of the sidebar in pixels. Defaults to 360.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>max_width</code></td>
        <td><code>int</code></td>
        <td><p>Maximum width of the sidebar in pixels. Defaults to 360.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>expanded</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the <code>LayerManagerWidget</code> is expanded by default. Defaults to True.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments passed to the <code>Container</code> widget.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Container</code></td>
      <td><p>The created container widget with the map and sidebar.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_container</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sidebar_visible</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a container widget for the map with an optional sidebar.</span>

<span class="sd">    This method initializes a `LayerManagerWidget` and a `Container` widget to display the map</span>
<span class="sd">    alongside a sidebar. The sidebar can be customized with visibility, width, and additional content.</span>

<span class="sd">    Args:</span>
<span class="sd">        sidebar_visible (bool): Whether the sidebar is visible. Defaults to False.</span>
<span class="sd">        min_width (int): Minimum width of the sidebar in pixels. Defaults to 360.</span>
<span class="sd">        max_width (int): Maximum width of the sidebar in pixels. Defaults to 360.</span>
<span class="sd">        expanded (bool): Whether the `LayerManagerWidget` is expanded by default. Defaults to True.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments passed to the `Container` widget.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Container: The created container widget with the map and sidebar.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">sidebar_visible</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">sidebar_visible</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;sidebar_visible&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">min_width</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">min_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;min_width&quot;</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">max_width</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">max_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;max_width&quot;</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">expanded</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">expanded</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;expanded&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span> <span class="o">=</span> <span class="n">LayerManagerWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expanded</span><span class="o">=</span><span class="n">expanded</span><span class="p">)</span>

    <span class="n">container</span> <span class="o">=</span> <span class="n">Container</span><span class="p">(</span>
        <span class="n">host_map</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
        <span class="n">sidebar_visible</span><span class="o">=</span><span class="n">sidebar_visible</span><span class="p">,</span>
        <span class="n">min_width</span><span class="o">=</span><span class="n">min_width</span><span class="p">,</span>
        <span class="n">max_width</span><span class="o">=</span><span class="n">max_width</span><span class="p">,</span>
        <span class="n">sidebar_content</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span><span class="p">],</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="o">=</span> <span class="n">container</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">[</span><span class="s2">&quot;Layers&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_manager</span>
    <span class="k">return</span> <span class="n">container</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.fit_bounds" class="doc doc-heading">
<code class="highlight language-python"><span class="n">fit_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bounds</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.fit_bounds" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Fit the map to given bounds.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>bounds</code></td>
        <td><code>List[List[float]]</code></td>
        <td><p>Bounding box as [[south, west], [north, east]].</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>padding</code></td>
        <td><code>int</code></td>
        <td><p>Padding around the bounds in pixels.</p></td>
        <td><code>50</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fit_bounds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bounds</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]],</span> <span class="n">padding</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Fit the map to given bounds.</span>

<span class="sd">    Args:</span>
<span class="sd">        bounds: Bounding box as [[south, west], [north, east]].</span>
<span class="sd">        padding: Padding around the bounds in pixels.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">call_js_method</span><span class="p">(</span><span class="s2">&quot;fitBounds&quot;</span><span class="p">,</span> <span class="n">bounds</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;padding&quot;</span><span class="p">:</span> <span class="n">padding</span><span class="p">})</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.get_layer_type" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_layer_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.get_layer_type" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Get the type of a layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_id</code></td>
        <td><code>str</code></td>
        <td><p>Unique identifier of the layer.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>Layer type string, or None if layer doesn't exist.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_layer_type</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get the type of a layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_id: Unique identifier of the layer.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Layer type string, or None if layer doesn&#39;t exist.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">layer_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_layers</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_layers</span><span class="p">[</span><span class="n">layer_id</span><span class="p">][</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.get_style" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_style</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.get_style" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Get the style of the map.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Dict</code></td>
      <td><p>The style of the map.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_style</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the style of the map.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dict: The style of the map.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_style</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
            <span class="n">style</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_style</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_style</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">style</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="n">style</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.get_style_layers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_style_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">return_ids</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">sorted</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.get_style_layers" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Get the names of the basemap layers.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>List[str]</code></td>
      <td><p>The names of the basemap layers.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_style_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">return_ids</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">sorted</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the names of the basemap layers.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List[str]: The names of the basemap layers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_style</span><span class="p">()</span>
    <span class="k">if</span> <span class="s2">&quot;layers&quot;</span> <span class="ow">in</span> <span class="n">style</span><span class="p">:</span>
        <span class="n">layers</span> <span class="o">=</span> <span class="n">style</span><span class="p">[</span><span class="s2">&quot;layers&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">return_ids</span><span class="p">:</span>
            <span class="n">ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">layers</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">sorted</span><span class="p">:</span>
                <span class="n">ids</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

            <span class="k">return</span> <span class="n">ids</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">layers</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.remove_from_sidebar" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.remove_from_sidebar" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Removes a widget from the sidebar content.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>widget</code></td>
        <td><code>widgets.Widget</code></td>
        <td><p>The widget to remove from the sidebar.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the widget to remove from the sidebar.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_from_sidebar</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Removes a widget from the sidebar content.</span>

<span class="sd">    Args:</span>
<span class="sd">        widget (widgets.Widget): The widget to remove from the sidebar.</span>
<span class="sd">        name (str): The name of the widget to remove from the sidebar.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.set_bearing" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_bearing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bearing</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.set_bearing" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Set the map bearing (rotation).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>bearing</code></td>
        <td><code>float</code></td>
        <td><p>Map rotation in degrees (0-360).</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_bearing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bearing</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the map bearing (rotation).</span>

<span class="sd">    Args:</span>
<span class="sd">        bearing: Map rotation in degrees (0-360).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bearing</span> <span class="o">=</span> <span class="n">bearing</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.set_layout_property" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_layout_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.set_layout_property" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Set a layout property for a layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_id</code></td>
        <td><code>str</code></td>
        <td><p>Unique identifier of the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the layout property to set.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>Value to set for the property.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_layout_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set a layout property for a layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_id: Unique identifier of the layer.</span>
<span class="sd">        name: Name of the layout property to set.</span>
<span class="sd">        value: Value to set for the property.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">call_js_method</span><span class="p">(</span><span class="s2">&quot;setLayoutProperty&quot;</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.set_opacity" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_opacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.set_opacity" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Set the opacity of a layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_id</code></td>
        <td><code>str</code></td>
        <td><p>Unique identifier of the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>opacity</code></td>
        <td><code>float</code></td>
        <td><p>Opacity value between 0.0 (transparent) and 1.0 (opaque).</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_opacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">opacity</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the opacity of a layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_id: Unique identifier of the layer.</span>
<span class="sd">        opacity: Opacity value between 0.0 (transparent) and 1.0 (opaque).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">layer_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_layer_type</span><span class="p">(</span><span class="n">layer_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">layer_id</span> <span class="o">==</span> <span class="s2">&quot;background&quot;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_style_layers</span><span class="p">():</span>
            <span class="n">layer_type</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">layer_type</span> <span class="o">!=</span> <span class="s2">&quot;symbol&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_paint_property</span><span class="p">(</span>
                    <span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_type</span><span class="si">}</span><span class="s2">-opacity&quot;</span><span class="p">,</span> <span class="n">opacity</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_paint_property</span><span class="p">(</span><span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="s2">&quot;icon-opacity&quot;</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_paint_property</span><span class="p">(</span><span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="s2">&quot;text-opacity&quot;</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="n">layer_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">:</span>
        <span class="n">layer_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">[</span><span class="n">layer_id</span><span class="p">][</span><span class="s2">&quot;layer&quot;</span><span class="p">][</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>
        <span class="n">prop_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_type</span><span class="si">}</span><span class="s2">-opacity&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">[</span><span class="n">layer_id</span><span class="p">][</span><span class="s2">&quot;opacity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">opacity</span>
    <span class="k">elif</span> <span class="n">layer_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">style_dict</span><span class="p">:</span>
        <span class="n">layer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">style_dict</span><span class="p">[</span><span class="n">layer_id</span><span class="p">]</span>
        <span class="n">layer_type</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span>
        <span class="n">prop_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_type</span><span class="si">}</span><span class="s2">-opacity&quot;</span>
        <span class="k">if</span> <span class="s2">&quot;paint&quot;</span> <span class="ow">in</span> <span class="n">layer</span><span class="p">:</span>
            <span class="n">layer</span><span class="p">[</span><span class="s2">&quot;paint&quot;</span><span class="p">][</span><span class="n">prop_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">opacity</span>

    <span class="k">if</span> <span class="n">layer_type</span> <span class="o">!=</span> <span class="s2">&quot;symbol&quot;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_paint_property</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">layer_type</span><span class="si">}</span><span class="s2">-opacity&quot;</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_paint_property</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="s2">&quot;icon-opacity&quot;</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_paint_property</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="s2">&quot;text-opacity&quot;</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.set_paint_property" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_paint_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.set_paint_property" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Set a paint property for a layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_id</code></td>
        <td><code>str</code></td>
        <td><p>Unique identifier of the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the paint property to set.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>value</code></td>
        <td><code>Any</code></td>
        <td><p>Value to set for the property.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_paint_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set a paint property for a layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_id: Unique identifier of the layer.</span>
<span class="sd">        name: Name of the paint property to set.</span>
<span class="sd">        value: Value to set for the property.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">call_js_method</span><span class="p">(</span><span class="s2">&quot;setPaintProperty&quot;</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.set_pitch" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_pitch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pitch</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.set_pitch" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Set the map pitch (tilt).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>pitch</code></td>
        <td><code>float</code></td>
        <td><p>Map tilt in degrees (0-60).</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_pitch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pitch</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the map pitch (tilt).</span>

<span class="sd">    Args:</span>
<span class="sd">        pitch: Map tilt in degrees (0-60).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pitch</span> <span class="o">=</span> <span class="n">pitch</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.set_sidebar_content" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_sidebar_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.set_sidebar_content" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Replaces all content in the sidebar (except the toggle button).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>content</code></td>
        <td><code>Union[widgets.VBox, List[widgets.Widget]]</code></td>
        <td><p>The new content for the sidebar.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_sidebar_content</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Replaces all content in the sidebar (except the toggle button).</span>

<span class="sd">    Args:</span>
<span class="sd">        content (Union[widgets.VBox, List[widgets.Widget]]): The new content for the sidebar.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">set_sidebar_content</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.set_sidebar_width" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_sidebar_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.set_sidebar_width" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Dynamically updates the sidebar's minimum and maximum width.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>min_width</code></td>
        <td><code>int</code></td>
        <td><p>New minimum width in pixels. If None, keep current.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>max_width</code></td>
        <td><code>int</code></td>
        <td><p>New maximum width in pixels. If None, keep current.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_sidebar_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Dynamically updates the sidebar&#39;s minimum and maximum width.</span>

<span class="sd">    Args:</span>
<span class="sd">        min_width (int, optional): New minimum width in pixels. If None, keep current.</span>
<span class="sd">        max_width (int, optional): New maximum width in pixels. If None, keep current.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_container</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">set_sidebar_width</span><span class="p">(</span><span class="n">min_width</span><span class="p">,</span> <span class="n">max_width</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.set_style" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.set_style" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Set the map style.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>style</code></td>
        <td><code>Union[str, Dict[str, Any]]</code></td>
        <td><p>Map style as URL string or style object dictionary.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">style</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the map style.</span>

<span class="sd">    Args:</span>
<span class="sd">        style: Map style as URL string or style object dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">style</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">style</span> <span class="o">=</span> <span class="n">style</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">call_js_method</span><span class="p">(</span><span class="s2">&quot;setStyle&quot;</span><span class="p">,</span> <span class="n">style</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.set_visibility" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_visibility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">,</span> <span class="n">visible</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.set_visibility" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Set the visibility of a layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer_id</code></td>
        <td><code>str</code></td>
        <td><p>Unique identifier of the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>visible</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the layer should be visible.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_visibility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">layer_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">visible</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set the visibility of a layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer_id: Unique identifier of the layer.</span>
<span class="sd">        visible: Whether the layer should be visible.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">visible</span><span class="p">:</span>
        <span class="n">visibility</span> <span class="o">=</span> <span class="s2">&quot;visible&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">visibility</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span>

    <span class="k">if</span> <span class="n">layer_id</span> <span class="o">==</span> <span class="s2">&quot;background&quot;</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_style_layers</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_layout_property</span><span class="p">(</span><span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span> <span class="s2">&quot;visibility&quot;</span><span class="p">,</span> <span class="n">visibility</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_layout_property</span><span class="p">(</span><span class="n">layer_id</span><span class="p">,</span> <span class="s2">&quot;visibility&quot;</span><span class="p">,</span> <span class="n">visibility</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">layer_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">[</span><span class="n">layer_id</span><span class="p">][</span><span class="s2">&quot;visible&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">visible</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre.MapLibreMap.show" class="doc doc-heading">
<code class="highlight language-python"><span class="n">show</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sidebar_visible</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="mi">360</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="mi">360</span><span class="p">,</span> <span class="n">sidebar_content</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


<a href="#anymap.maplibre.MapLibreMap.show" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Displays the map with an optional sidebar.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sidebar_visible</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the sidebar is visible. Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>min_width</code></td>
        <td><code>int</code></td>
        <td><p>Minimum width of the sidebar in pixels. Defaults to 250.</p></td>
        <td><code>360</code></td>
      </tr>
      <tr>
        <td><code>max_width</code></td>
        <td><code>int</code></td>
        <td><p>Maximum width of the sidebar in pixels. Defaults to 300.</p></td>
        <td><code>360</code></td>
      </tr>
      <tr>
        <td><code>sidebar_content</code></td>
        <td><code>Optional[Any]</code></td>
        <td><p>Content to display in the sidebar. Defaults to None.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>None</code></td>
      <td><p>None</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">show</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sidebar_visible</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">360</span><span class="p">,</span>
    <span class="n">max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">360</span><span class="p">,</span>
    <span class="n">sidebar_content</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Displays the map with an optional sidebar.</span>

<span class="sd">    Args:</span>
<span class="sd">        sidebar_visible (bool): Whether the sidebar is visible. Defaults to False.</span>
<span class="sd">        min_width (int): Minimum width of the sidebar in pixels. Defaults to 250.</span>
<span class="sd">        max_width (int): Maximum width of the sidebar in pixels. Defaults to 300.</span>
<span class="sd">        sidebar_content (Optional[Any]): Content to display in the sidebar. Defaults to None.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Container</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sidebar_visible</span><span class="o">=</span><span class="n">sidebar_visible</span><span class="p">,</span>
        <span class="n">min_width</span><span class="o">=</span><span class="n">min_width</span><span class="p">,</span>
        <span class="n">max_width</span><span class="o">=</span><span class="n">max_width</span><span class="p">,</span>
        <span class="n">sidebar_content</span><span class="o">=</span><span class="n">sidebar_content</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="July 4, 2025 04:36:02 UTC"><span class="timeago" datetime="2025-07-04T04:36:02+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="July 4, 2025 04:36:02 UTC">2025-07-04</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="July 4, 2025 04:36:02 UTC"><span class="timeago" datetime="2025-07-04T04:36:02+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="July 4, 2025 04:36:02 UTC">2025-07-04</span>
  </span>

    
    
    
  </aside>





                

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 - 2025 Qiusheng Wu
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.top", "search.highlight", "search.share"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="../js/timeago.min.js"></script>
      
        <script src="../js/timeago_mkdocs_material.js"></script>
      
    
  </body>
</html>