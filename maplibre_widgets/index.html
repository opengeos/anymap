
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A Python package for creating interactive maps with anywidget and JavaScript mapping libraries">
      
      
        <meta name="author" content="giswqs">
      
      
        <link rel="canonical" href="https://anymap.dev/maplibre_widgets/">
      
      
        <link rel="prev" href="../maplibre/">
      
      
        <link rel="next" href="../openlayers/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>maplibre_widgets module - anymap</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CRegular:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Google Sans";--md-code-font:"Regular"}</style>
      
    
    
      <link rel="stylesheet" href="../css/timeago.css">
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#maplibre_widgets-module" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="anymap" class="md-header__button md-logo" aria-label="anymap" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            anymap
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              maplibre_widgets module
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/opengeos/anymap" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="anymap" class="md-nav__button md-logo" aria-label="anymap" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    anymap
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/opengeos/anymap" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FAQ
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/opengeos/anymap/issues" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Report Issues
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/basic_usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/maplibre_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Maplibre example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/mapbox_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mapbox example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/leaflet_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Leaflet example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/openlayers_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Openlayers example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/cesium_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cesium example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/deckgl_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deckgl example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/keplergl_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Keplergl example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/potree_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Potree example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/pmtiles_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pmtiles example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/draw_control_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Draw control example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/layer_control_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Layer control example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/geocoder_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Geocoder example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/terrain_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Terrain example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/streetview_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Streetview example
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../anymap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    anymap module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    base module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cesium/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    cesium module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../compare/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    compare module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deckgl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    deckgl module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../keplergl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    keplergl module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../leaflet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    leaflet module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mapbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mapbox module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../maplibre/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    maplibre module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    maplibre_widgets module
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    maplibre_widgets module
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      anymap.maplibre_widgets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container" class="md-nav__link">
    <span class="md-ellipsis">
      Container
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Container">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.add_to_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      add_to_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.create_map" class="md-nav__link">
    <span class="md-ellipsis">
      create_map()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.remove_from_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      remove_from_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.set_sidebar_content" class="md-nav__link">
    <span class="md-ellipsis">
      set_sidebar_content()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.set_sidebar_width" class="md-nav__link">
    <span class="md-ellipsis">
      set_sidebar_width()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.toggle_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      toggle_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.update_sidebar_content" class="md-nav__link">
    <span class="md-ellipsis">
      update_sidebar_content()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.CustomWidget" class="md-nav__link">
    <span class="md-ellipsis">
      CustomWidget
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CustomWidget">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.CustomWidget.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.CustomWidget.add_widget" class="md-nav__link">
    <span class="md-ellipsis">
      add_widget()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.CustomWidget.remove_widget" class="md-nav__link">
    <span class="md-ellipsis">
      remove_widget()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.CustomWidget.set_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      set_widgets()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget" class="md-nav__link">
    <span class="md-ellipsis">
      LayerManagerWidget
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LayerManagerWidget">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget.build_layer_controls" class="md-nav__link">
    <span class="md-ellipsis">
      build_layer_controls()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget.refresh" class="md-nav__link">
    <span class="md-ellipsis">
      refresh()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget.set_layer_opacity" class="md-nav__link">
    <span class="md-ellipsis">
      set_layer_opacity()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget.set_layer_visibility" class="md-nav__link">
    <span class="md-ellipsis">
      set_layer_visibility()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget.toggle_all_layers" class="md-nav__link">
    <span class="md-ellipsis">
      toggle_all_layers()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget.toggle_group_layers" class="md-nav__link">
    <span class="md-ellipsis">
      toggle_group_layers()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerStyleWidget" class="md-nav__link">
    <span class="md-ellipsis">
      LayerStyleWidget
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../openlayers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    openlayers module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../potree/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    potree module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    stac module
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils module
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      anymap.maplibre_widgets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container" class="md-nav__link">
    <span class="md-ellipsis">
      Container
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Container">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.add_to_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      add_to_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.create_map" class="md-nav__link">
    <span class="md-ellipsis">
      create_map()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.remove_from_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      remove_from_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.set_sidebar_content" class="md-nav__link">
    <span class="md-ellipsis">
      set_sidebar_content()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.set_sidebar_width" class="md-nav__link">
    <span class="md-ellipsis">
      set_sidebar_width()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.toggle_sidebar" class="md-nav__link">
    <span class="md-ellipsis">
      toggle_sidebar()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.Container.update_sidebar_content" class="md-nav__link">
    <span class="md-ellipsis">
      update_sidebar_content()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.CustomWidget" class="md-nav__link">
    <span class="md-ellipsis">
      CustomWidget
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CustomWidget">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.CustomWidget.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.CustomWidget.add_widget" class="md-nav__link">
    <span class="md-ellipsis">
      add_widget()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.CustomWidget.remove_widget" class="md-nav__link">
    <span class="md-ellipsis">
      remove_widget()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.CustomWidget.set_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      set_widgets()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget" class="md-nav__link">
    <span class="md-ellipsis">
      LayerManagerWidget
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LayerManagerWidget">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget.build_layer_controls" class="md-nav__link">
    <span class="md-ellipsis">
      build_layer_controls()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget.refresh" class="md-nav__link">
    <span class="md-ellipsis">
      refresh()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget.set_layer_opacity" class="md-nav__link">
    <span class="md-ellipsis">
      set_layer_opacity()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget.set_layer_visibility" class="md-nav__link">
    <span class="md-ellipsis">
      set_layer_visibility()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget.toggle_all_layers" class="md-nav__link">
    <span class="md-ellipsis">
      toggle_all_layers()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerManagerWidget.toggle_group_layers" class="md-nav__link">
    <span class="md-ellipsis">
      toggle_group_layers()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anymap.maplibre_widgets.LayerStyleWidget" class="md-nav__link">
    <span class="md-ellipsis">
      LayerStyleWidget
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                



                  


  
  


<h1 id="maplibre_widgets-module">maplibre_widgets module<a class="headerlink" href="#maplibre_widgets-module" title="Permanent link">&para;</a></h1>


  <div class="doc doc-object doc-module">

<a id="anymap.maplibre_widgets"></a>
    <div class="doc doc-contents first">

      <p>MapLibre widget classes for UI components.</p>
<p>This module contains the widget classes that support the MapLibreMap implementation,
including layer management, styling, and container widgets.</p>
<div class="admonition classes">
<p class="admonition-title">Classes</p>
<p>CustomWidget: Generic expansion panel widget with dynamic content management.
Container: Container widget for map display with optional sidebar.
LayerStyleWidget: Interactive widget for styling map layers.
LayerManagerWidget: Widget for managing map layers (visibility, opacity, removal).</p>
</div>
<p>These classes were extracted from maplibre.py to improve code organization
and maintainability.</p>



  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h2 id="anymap.maplibre_widgets.Container" class="doc doc-heading">
        <code>
Container            (<span title="ipyvuetify.generated.Container.Container">Container</span>)
        </code>



<a href="#anymap.maplibre_widgets.Container" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>A container widget for displaying a map with an optional sidebar.</p>
<p>This class creates a layout with a map on the left and a sidebar on the right.
The sidebar can be toggled on or off and can display additional content.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sidebar_visible</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the sidebar is visible.</p></td>
      </tr>
      <tr>
        <td><code>min_width</code></td>
        <td><code>int</code></td>
        <td><p>Minimum width of the sidebar in pixels.</p></td>
      </tr>
      <tr>
        <td><code>max_width</code></td>
        <td><code>int</code></td>
        <td><p>Maximum width of the sidebar in pixels.</p></td>
      </tr>
      <tr>
        <td><code>map_container</code></td>
        <td><code>v.Col</code></td>
        <td><p>The container for the map.</p></td>
      </tr>
      <tr>
        <td><code>sidebar_content_box</code></td>
        <td><code>widgets.VBox</code></td>
        <td><p>The container for the sidebar content.</p></td>
      </tr>
      <tr>
        <td><code>toggle_icon</code></td>
        <td><code>v.Icon</code></td>
        <td><p>The icon for the toggle button.</p></td>
      </tr>
      <tr>
        <td><code>toggle_btn</code></td>
        <td><code>v.Btn</code></td>
        <td><p>The button to toggle the sidebar.</p></td>
      </tr>
      <tr>
        <td><code>sidebar</code></td>
        <td><code>v.Col</code></td>
        <td><p>The container for the sidebar.</p></td>
      </tr>
      <tr>
        <td><code>row</code></td>
        <td><code>v.Row</code></td>
        <td><p>The main layout row containing the map and sidebar.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Container</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">Container</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A container widget for displaying a map with an optional sidebar.</span>

<span class="sd">    This class creates a layout with a map on the left and a sidebar on the right.</span>
<span class="sd">    The sidebar can be toggled on or off and can display additional content.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        sidebar_visible (bool): Whether the sidebar is visible.</span>
<span class="sd">        min_width (int): Minimum width of the sidebar in pixels.</span>
<span class="sd">        max_width (int): Maximum width of the sidebar in pixels.</span>
<span class="sd">        map_container (v.Col): The container for the map.</span>
<span class="sd">        sidebar_content_box (widgets.VBox): The container for the sidebar content.</span>
<span class="sd">        toggle_icon (v.Icon): The icon for the toggle button.</span>
<span class="sd">        toggle_btn (v.Btn): The button to toggle the sidebar.</span>
<span class="sd">        sidebar (v.Col): The container for the sidebar.</span>
<span class="sd">        row (v.Row): The main layout row containing the map and sidebar.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">host_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">sidebar_visible</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">250</span><span class="p">,</span>
        <span class="n">max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
        <span class="n">sidebar_content</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the Container widget.</span>

<span class="sd">        Args:</span>
<span class="sd">            host_map (Optional[Any]): The map object to display in the container. Defaults to None.</span>
<span class="sd">            sidebar_visible (bool): Whether the sidebar is visible. Defaults to True.</span>
<span class="sd">            min_width (int): Minimum width of the sidebar in pixels. Defaults to 250.</span>
<span class="sd">            max_width (int): Maximum width of the sidebar in pixels. Defaults to 300.</span>
<span class="sd">            sidebar_content (Optional[Union[widgets.VBox, List[widgets.Widget]]]):</span>
<span class="sd">                The content to display in the sidebar. Defaults to None.</span>
<span class="sd">            *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span> <span class="o">=</span> <span class="n">sidebar_visible</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_width</span> <span class="o">=</span> <span class="n">min_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_width</span> <span class="o">=</span> <span class="n">max_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">host_map</span> <span class="o">=</span> <span class="n">host_map</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Map display container (left column)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">map_container</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
            <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;pa-1&quot;</span><span class="p">,</span>
            <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;flex-grow: 1; flex-shrink: 1; flex-basis: 0;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">map_container</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">host_map</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_map</span><span class="p">()]</span>

        <span class="c1"># Sidebar content container (mutable VBox)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">sidebar_content</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_sidebar_content</span><span class="p">(</span><span class="n">sidebar_content</span><span class="p">)</span>

        <span class="c1"># Toggle button</span>
        <span class="k">if</span> <span class="n">sidebar_visible</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;mdi-chevron-right&quot;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;mdi-chevron-left&quot;</span><span class="p">])</span>  <span class="c1"># default icon</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
            <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span><span class="p">],</span>
            <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;width: 48px; height: 48px; min-width: 48px;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggle_sidebar</span><span class="p">)</span>

        <span class="c1"># Settings icon</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_icon</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;mdi-wrench&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
            <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_icon</span><span class="p">],</span>
            <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;width: 36px; height: 36px;&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggle_width_slider</span><span class="p">)</span>

        <span class="c1"># Sidebar controls row (toggle + settings)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_controls</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
            <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0 pa-0&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="c1"># Sidebar width slider (initially hidden)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_width</span><span class="p">,</span>
            <span class="nb">min</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
            <span class="nb">max</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
            <span class="n">step</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Width:&quot;</span><span class="p">,</span>
            <span class="n">continuous_update</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_width_change</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">settings_widget</span> <span class="o">=</span> <span class="n">CustomWidget</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span><span class="p">,</span>
            <span class="n">widget_icon</span><span class="o">=</span><span class="s2">&quot;mdi-cog&quot;</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Sidebar Settings&quot;</span><span class="p">,</span>
            <span class="n">host_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">host_map</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="c1"># Sidebar (right column)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;pa-1&quot;</span><span class="p">,</span> <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;overflow-y: hidden;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_sidebar_content</span><span class="p">()</span>

        <span class="c1"># Main layout row</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">row</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
            <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;d-flex flex-nowrap&quot;</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">map_container</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">fluid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">create_map</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a default map object.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Any: A default map object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">.maplibre</span><span class="w"> </span><span class="kn">import</span> <span class="n">MapLibreMap</span>

        <span class="k">return</span> <span class="n">MapLibreMap</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">toggle_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggles the visibility of the sidebar.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args (Any): Additional positional arguments.</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;mdi-chevron-right&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span> <span class="k">else</span> <span class="s2">&quot;mdi-chevron-left&quot;</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_sidebar_content</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">update_sidebar_content</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Updates the content of the sidebar based on its visibility.</span>
<span class="sd">        If the sidebar is visible, it displays the toggle button and the sidebar content.</span>
<span class="sd">        If the sidebar is hidden, it only displays the toggle button.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span><span class="p">:</span>
            <span class="c1"># Header row: toggle on the left, settings on the right</span>
            <span class="n">header_row</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0 pa-0&quot;</span><span class="p">,</span>
                <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;space-between&quot;</span><span class="p">,</span>
                <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span><span class="p">],</span>
            <span class="p">)</span>

            <span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">header_row</span><span class="p">]</span>

            <span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">children</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">style_</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;min-width: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_width</span><span class="si">}</span><span class="s2">px; max-width: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_width</span><span class="si">}</span><span class="s2">px;&quot;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">style_</span> <span class="o">=</span> <span class="s2">&quot;width: 48px; min-width: 48px; max-width: 48px;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_sidebar_content</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Replaces all content in the sidebar (except the toggle button).</span>

<span class="sd">        Args:</span>
<span class="sd">            content (Union[widgets.VBox, List[widgets.Widget]]): The new content for the sidebar.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">content</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">content</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_to_sidebar</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">,</span>
        <span class="n">add_header</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">widget_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-tools&quot;</span><span class="p">,</span>
        <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
        <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;My Tools&quot;</span><span class="p">,</span>
        <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
        <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">host_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Appends a widget to the sidebar content.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget (Optional[Union[widgets.Widget, List[widgets.Widget]]]): Initial widget(s) to display in the content box.</span>
<span class="sd">            widget_icon (str): Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">            close_icon (str): Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">            background_color (str): Background color of the header. Defaults to &quot;#f5f5f5&quot;.</span>
<span class="sd">            label (str): Text label for the header. Defaults to &quot;My Tools&quot;.</span>
<span class="sd">            height (str): Height of the header. Defaults to &quot;40px&quot;.</span>
<span class="sd">            expanded (bool): Whether the panel is expanded by default. Defaults to True.</span>
<span class="sd">            *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">label</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">add_header</span><span class="p">:</span>
            <span class="n">widget</span> <span class="o">=</span> <span class="n">CustomWidget</span><span class="p">(</span>
                <span class="n">widget</span><span class="p">,</span>
                <span class="n">widget_icon</span><span class="o">=</span><span class="n">widget_icon</span><span class="p">,</span>
                <span class="n">close_icon</span><span class="o">=</span><span class="n">close_icon</span><span class="p">,</span>
                <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
                <span class="n">background_color</span><span class="o">=</span><span class="n">background_color</span><span class="p">,</span>
                <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
                <span class="n">expanded</span><span class="o">=</span><span class="n">expanded</span><span class="p">,</span>
                <span class="n">host_map</span><span class="o">=</span><span class="n">host_map</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">+=</span> <span class="p">(</span><span class="n">widget</span><span class="p">,)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">remove_from_sidebar</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes a widget from the sidebar content.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget (widgets.Widget): The widget to remove from the sidebar.</span>
<span class="sd">            name (str): The name of the widget to remove from the sidebar.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">key</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">widget</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
                <span class="k">break</span>

        <span class="k">if</span> <span class="n">key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
            <span class="n">child</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="n">child</span> <span class="o">!=</span> <span class="n">widget</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_sidebar_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Dynamically updates the sidebar&#39;s minimum and maximum width.</span>

<span class="sd">        Args:</span>
<span class="sd">            min_width (int, optional): New minimum width in pixels. If None, keep current.</span>
<span class="sd">            max_width (int, optional): New maximum width in pixels. If None, keep current.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">min_width</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">min_width</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">min_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">min_width</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">min_width</span> <span class="o">=</span> <span class="n">min_width</span>
        <span class="k">if</span> <span class="n">max_width</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">max_width</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">max_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">max_width</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">max_width</span> <span class="o">=</span> <span class="n">max_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_sidebar_content</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">toggle_width_slider</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_widget</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_to_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_widget</span><span class="p">,</span> <span class="n">add_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">on_width_change</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">new_width</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_sidebar_width</span><span class="p">(</span><span class="n">min_width</span><span class="o">=</span><span class="n">new_width</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="n">new_width</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.Container.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">host_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">sidebar_visible</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">sidebar_content</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#anymap.maplibre_widgets.Container.__init__" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Initializes the Container widget.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>host_map</code></td>
        <td><code>Optional[Any]</code></td>
        <td><p>The map object to display in the container. Defaults to None.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>sidebar_visible</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the sidebar is visible. Defaults to True.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>min_width</code></td>
        <td><code>int</code></td>
        <td><p>Minimum width of the sidebar in pixels. Defaults to 250.</p></td>
        <td><code>250</code></td>
      </tr>
      <tr>
        <td><code>max_width</code></td>
        <td><code>int</code></td>
        <td><p>Maximum width of the sidebar in pixels. Defaults to 300.</p></td>
        <td><code>300</code></td>
      </tr>
      <tr>
        <td><code>sidebar_content</code></td>
        <td><code>Optional[Union[widgets.VBox, List[widgets.Widget]]]</code></td>
        <td><p>The content to display in the sidebar. Defaults to None.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional positional arguments for the parent class.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments for the parent class.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">host_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">sidebar_visible</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">250</span><span class="p">,</span>
    <span class="n">max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
    <span class="n">sidebar_content</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the Container widget.</span>

<span class="sd">    Args:</span>
<span class="sd">        host_map (Optional[Any]): The map object to display in the container. Defaults to None.</span>
<span class="sd">        sidebar_visible (bool): Whether the sidebar is visible. Defaults to True.</span>
<span class="sd">        min_width (int): Minimum width of the sidebar in pixels. Defaults to 250.</span>
<span class="sd">        max_width (int): Maximum width of the sidebar in pixels. Defaults to 300.</span>
<span class="sd">        sidebar_content (Optional[Union[widgets.VBox, List[widgets.Widget]]]):</span>
<span class="sd">            The content to display in the sidebar. Defaults to None.</span>
<span class="sd">        *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span> <span class="o">=</span> <span class="n">sidebar_visible</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">min_width</span> <span class="o">=</span> <span class="n">min_width</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">max_width</span> <span class="o">=</span> <span class="n">max_width</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">host_map</span> <span class="o">=</span> <span class="n">host_map</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1"># Map display container (left column)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">map_container</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
        <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;pa-1&quot;</span><span class="p">,</span>
        <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;flex-grow: 1; flex-shrink: 1; flex-basis: 0;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">map_container</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">host_map</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_map</span><span class="p">()]</span>

    <span class="c1"># Sidebar content container (mutable VBox)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">sidebar_content</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_sidebar_content</span><span class="p">(</span><span class="n">sidebar_content</span><span class="p">)</span>

    <span class="c1"># Toggle button</span>
    <span class="k">if</span> <span class="n">sidebar_visible</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;mdi-chevron-right&quot;</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;mdi-chevron-left&quot;</span><span class="p">])</span>  <span class="c1"># default icon</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
        <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span><span class="p">],</span>
        <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;width: 48px; height: 48px; min-width: 48px;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggle_sidebar</span><span class="p">)</span>

    <span class="c1"># Settings icon</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">settings_icon</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;mdi-wrench&quot;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
        <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">settings_icon</span><span class="p">],</span>
        <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;width: 36px; height: 36px;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toggle_width_slider</span><span class="p">)</span>

    <span class="c1"># Sidebar controls row (toggle + settings)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_controls</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0 pa-0&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span><span class="p">]</span>
    <span class="p">)</span>

    <span class="c1"># Sidebar width slider (initially hidden)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span>
        <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_width</span><span class="p">,</span>
        <span class="nb">min</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
        <span class="nb">max</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
        <span class="n">step</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Width:&quot;</span><span class="p">,</span>
        <span class="n">continuous_update</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_width_change</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">settings_widget</span> <span class="o">=</span> <span class="n">CustomWidget</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width_slider</span><span class="p">,</span>
        <span class="n">widget_icon</span><span class="o">=</span><span class="s2">&quot;mdi-cog&quot;</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Sidebar Settings&quot;</span><span class="p">,</span>
        <span class="n">host_map</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">host_map</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="c1"># Sidebar (right column)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;pa-1&quot;</span><span class="p">,</span> <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;overflow-y: hidden;&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_sidebar_content</span><span class="p">()</span>

    <span class="c1"># Main layout row</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">row</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;d-flex flex-nowrap&quot;</span><span class="p">,</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">map_container</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="p">],</span>
    <span class="p">)</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">fluid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">row</span><span class="p">],</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.Container.add_to_sidebar" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_to_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">,</span> <span class="n">add_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">widget_icon</span><span class="o">=</span><span class="s1">&#39;mdi-tools&#39;</span><span class="p">,</span> <span class="n">close_icon</span><span class="o">=</span><span class="s1">&#39;mdi-close&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;My Tools&#39;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;#f5f5f5&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;40px&#39;</span><span class="p">,</span> <span class="n">expanded</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">host_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.Container.add_to_sidebar" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Appends a widget to the sidebar content.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>widget</code></td>
        <td><code>Optional[Union[widgets.Widget, List[widgets.Widget]]]</code></td>
        <td><p>Initial widget(s) to display in the content box.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>widget_icon</code></td>
        <td><code>str</code></td>
        <td><p>Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</p></td>
        <td><code>&#39;mdi-tools&#39;</code></td>
      </tr>
      <tr>
        <td><code>close_icon</code></td>
        <td><code>str</code></td>
        <td><p>Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</p></td>
        <td><code>&#39;mdi-close&#39;</code></td>
      </tr>
      <tr>
        <td><code>background_color</code></td>
        <td><code>str</code></td>
        <td><p>Background color of the header. Defaults to "#f5f5f5".</p></td>
        <td><code>&#39;#f5f5f5&#39;</code></td>
      </tr>
      <tr>
        <td><code>label</code></td>
        <td><code>str</code></td>
        <td><p>Text label for the header. Defaults to "My Tools".</p></td>
        <td><code>&#39;My Tools&#39;</code></td>
      </tr>
      <tr>
        <td><code>height</code></td>
        <td><code>str</code></td>
        <td><p>Height of the header. Defaults to "40px".</p></td>
        <td><code>&#39;40px&#39;</code></td>
      </tr>
      <tr>
        <td><code>expanded</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the panel is expanded by default. Defaults to True.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional positional arguments for the parent class.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments for the parent class.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_to_sidebar</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">,</span>
    <span class="n">add_header</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">widget_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-tools&quot;</span><span class="p">,</span>
    <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
    <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;My Tools&quot;</span><span class="p">,</span>
    <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
    <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">host_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Appends a widget to the sidebar content.</span>

<span class="sd">    Args:</span>
<span class="sd">        widget (Optional[Union[widgets.Widget, List[widgets.Widget]]]): Initial widget(s) to display in the content box.</span>
<span class="sd">        widget_icon (str): Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">        close_icon (str): Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">        background_color (str): Background color of the header. Defaults to &quot;#f5f5f5&quot;.</span>
<span class="sd">        label (str): Text label for the header. Defaults to &quot;My Tools&quot;.</span>
<span class="sd">        height (str): Height of the header. Defaults to &quot;40px&quot;.</span>
<span class="sd">        expanded (bool): Whether the panel is expanded by default. Defaults to True.</span>
<span class="sd">        *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">label</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">add_header</span><span class="p">:</span>
        <span class="n">widget</span> <span class="o">=</span> <span class="n">CustomWidget</span><span class="p">(</span>
            <span class="n">widget</span><span class="p">,</span>
            <span class="n">widget_icon</span><span class="o">=</span><span class="n">widget_icon</span><span class="p">,</span>
            <span class="n">close_icon</span><span class="o">=</span><span class="n">close_icon</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
            <span class="n">background_color</span><span class="o">=</span><span class="n">background_color</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
            <span class="n">expanded</span><span class="o">=</span><span class="n">expanded</span><span class="p">,</span>
            <span class="n">host_map</span><span class="o">=</span><span class="n">host_map</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">+=</span> <span class="p">(</span><span class="n">widget</span><span class="p">,)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">[</span><span class="n">label</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.Container.create_map" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_map</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.Container.create_map" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Creates a default map object.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Any</code></td>
      <td><p>A default map object.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_map</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a default map object.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Any: A default map object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">.maplibre</span><span class="w"> </span><span class="kn">import</span> <span class="n">MapLibreMap</span>

    <span class="k">return</span> <span class="n">MapLibreMap</span><span class="p">(</span><span class="n">center</span><span class="o">=</span><span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">zoom</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.Container.remove_from_sidebar" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.Container.remove_from_sidebar" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Removes a widget from the sidebar content.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>widget</code></td>
        <td><code>widgets.Widget</code></td>
        <td><p>The widget to remove from the sidebar.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the widget to remove from the sidebar.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_from_sidebar</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Removes a widget from the sidebar content.</span>

<span class="sd">    Args:</span>
<span class="sd">        widget (widgets.Widget): The widget to remove from the sidebar.</span>
<span class="sd">        name (str): The name of the widget to remove from the sidebar.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">key</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="n">widget</span> <span class="ow">or</span> <span class="n">key</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">widget</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">widget</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
            <span class="k">break</span>

    <span class="k">if</span> <span class="n">key</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
        <span class="n">child</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="n">child</span> <span class="o">!=</span> <span class="n">widget</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.Container.set_sidebar_content" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_sidebar_content</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.Container.set_sidebar_content" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Replaces all content in the sidebar (except the toggle button).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>content</code></td>
        <td><code>Union[widgets.VBox, List[widgets.Widget]]</code></td>
        <td><p>The new content for the sidebar.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_sidebar_content</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Replaces all content in the sidebar (except the toggle button).</span>

<span class="sd">    Args:</span>
<span class="sd">        content (Union[widgets.VBox, List[widgets.Widget]]): The new content for the sidebar.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">content</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">content</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.Container.set_sidebar_width" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_sidebar_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_width</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_width</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.Container.set_sidebar_width" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Dynamically updates the sidebar's minimum and maximum width.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>min_width</code></td>
        <td><code>int</code></td>
        <td><p>New minimum width in pixels. If None, keep current.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>max_width</code></td>
        <td><code>int</code></td>
        <td><p>New maximum width in pixels. If None, keep current.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_sidebar_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">max_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Dynamically updates the sidebar&#39;s minimum and maximum width.</span>

<span class="sd">    Args:</span>
<span class="sd">        min_width (int, optional): New minimum width in pixels. If None, keep current.</span>
<span class="sd">        max_width (int, optional): New maximum width in pixels. If None, keep current.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">min_width</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">min_width</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">min_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">min_width</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_width</span> <span class="o">=</span> <span class="n">min_width</span>
    <span class="k">if</span> <span class="n">max_width</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">max_width</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">max_width</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">max_width</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;px&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_width</span> <span class="o">=</span> <span class="n">max_width</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_sidebar_content</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.Container.toggle_sidebar" class="doc doc-heading">
<code class="highlight language-python"><span class="n">toggle_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.Container.toggle_sidebar" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Toggles the visibility of the sidebar.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional positional arguments.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">toggle_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Toggles the visibility of the sidebar.</span>

<span class="sd">    Args:</span>
<span class="sd">        *args (Any): Additional positional arguments.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">toggle_icon</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;mdi-chevron-right&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span> <span class="k">else</span> <span class="s2">&quot;mdi-chevron-left&quot;</span>
    <span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_sidebar_content</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.Container.update_sidebar_content" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_sidebar_content</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.Container.update_sidebar_content" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Updates the content of the sidebar based on its visibility.
If the sidebar is visible, it displays the toggle button and the sidebar content.
If the sidebar is hidden, it only displays the toggle button.</p>

        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">update_sidebar_content</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Updates the content of the sidebar based on its visibility.</span>
<span class="sd">    If the sidebar is visible, it displays the toggle button and the sidebar content.</span>
<span class="sd">    If the sidebar is hidden, it only displays the toggle button.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sidebar_visible</span><span class="p">:</span>
        <span class="c1"># Header row: toggle on the left, settings on the right</span>
        <span class="n">header_row</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
            <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0 pa-0&quot;</span><span class="p">,</span>
            <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
            <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;space-between&quot;</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">settings_btn</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">header_row</span><span class="p">]</span>

        <span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sidebar_content_box</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">children</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">style_</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;min-width: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_width</span><span class="si">}</span><span class="s2">px; max-width: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_width</span><span class="si">}</span><span class="s2">px;&quot;</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_btn</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sidebar</span><span class="o">.</span><span class="n">style_</span> <span class="o">=</span> <span class="s2">&quot;width: 48px; min-width: 48px; max-width: 48px;&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="anymap.maplibre_widgets.CustomWidget" class="doc doc-heading">
        <code>
CustomWidget            (<span title="ipyvuetify.generated.ExpansionPanels.ExpansionPanels">ExpansionPanels</span>)
        </code>



<a href="#anymap.maplibre_widgets.CustomWidget" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>A custom expansion panel widget with dynamic widget management.</p>
<p>This widget allows for the creation of an expandable panel with a customizable header
and dynamic content. Widgets can be added, removed, or replaced in the content box.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>content_box</code></td>
        <td><code>widgets.VBox</code></td>
        <td><p>A container for holding the widgets displayed in the panel.</p></td>
      </tr>
      <tr>
        <td><code>panel</code></td>
        <td><code>v.ExpansionPanel</code></td>
        <td><p>The main expansion panel containing the header and content.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CustomWidget</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanels</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A custom expansion panel widget with dynamic widget management.</span>

<span class="sd">    This widget allows for the creation of an expandable panel with a customizable header</span>
<span class="sd">    and dynamic content. Widgets can be added, removed, or replaced in the content box.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        content_box (widgets.VBox): A container for holding the widgets displayed in the panel.</span>
<span class="sd">        panel (v.ExpansionPanel): The main expansion panel containing the header and content.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">widget</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">widget_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-tools&quot;</span><span class="p">,</span>
        <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
        <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;My Tools&quot;</span><span class="p">,</span>
        <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
        <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">host_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the CustomWidget.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget (Optional[Union[widgets.Widget, List[widgets.Widget]]]): Initial widget(s) to display in the content box.</span>
<span class="sd">            widget_icon (str): Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">            close_icon (str): Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">            background_color (str): Background color of the header. Defaults to &quot;#f5f5f5&quot;.</span>
<span class="sd">            label (str): Text label for the header. Defaults to &quot;My Tools&quot;.</span>
<span class="sd">            height (str): Height of the header. Defaults to &quot;40px&quot;.</span>
<span class="sd">            expanded (bool): Whether the panel is expanded by default. Defaults to True.</span>
<span class="sd">            *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Wrap content in a mutable VBox</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">host_map</span> <span class="o">=</span> <span class="n">host_map</span>
        <span class="k">if</span> <span class="n">widget</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">widget</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">widget</span><span class="p">]</span>

        <span class="c1"># Close icon button</span>
        <span class="n">close_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
            <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">small</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0&quot;</span><span class="p">,</span>
            <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;min-width: 24px; width: 24px;&quot;</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">close_icon</span><span class="p">])],</span>
        <span class="p">)</span>
        <span class="n">close_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_close</span><span class="p">)</span>

        <span class="n">header</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelHeader</span><span class="p">(</span>
            <span class="n">style_</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; min-height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; background-color: </span><span class="si">{</span><span class="n">background_color</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                    <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                    <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;d-flex flex-grow-1 align-center&quot;</span><span class="p">,</span>
                    <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">widget_icon</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ml-1&quot;</span><span class="p">),</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push title to center</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Html</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">label</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;text-subtitle-2&quot;</span><span class="p">),</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push close to right</span>
                        <span class="n">close_btn</span><span class="p">,</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>
                    <span class="p">],</span>
                <span class="p">)</span>
            <span class="p">],</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">panel</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanel</span><span class="p">(</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                <span class="n">header</span><span class="p">,</span>
                <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelContent</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="p">]),</span>
            <span class="p">]</span>
        <span class="p">)</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">],</span>
            <span class="n">v_model</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">expanded</span> <span class="k">else</span> <span class="p">[],</span>
            <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="o">*</span><span class="n">args</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calls the on_close callback if provided.&quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">host_map</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">host_map</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># self.close()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a widget to the content box.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget (widgets.Widget): The widget to add to the content box.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">+=</span> <span class="p">(</span><span class="n">widget</span><span class="p">,)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">remove_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Removes a widget from the content box.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget (widgets.Widget): The widget to remove from the content box.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
            <span class="n">w</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="n">widget</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widgets_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Replaces all widgets in the content box.</span>

<span class="sd">        Args:</span>
<span class="sd">            widgets_list (List[widgets.Widget]): A list of widgets to set as the content of the content box.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">widgets_list</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.CustomWidget.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">widget_icon</span><span class="o">=</span><span class="s1">&#39;mdi-tools&#39;</span><span class="p">,</span> <span class="n">close_icon</span><span class="o">=</span><span class="s1">&#39;mdi-close&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;My Tools&#39;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;#f5f5f5&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;40px&#39;</span><span class="p">,</span> <span class="n">expanded</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">host_map</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#anymap.maplibre_widgets.CustomWidget.__init__" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Initializes the CustomWidget.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>widget</code></td>
        <td><code>Optional[Union[widgets.Widget, List[widgets.Widget]]]</code></td>
        <td><p>Initial widget(s) to display in the content box.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>widget_icon</code></td>
        <td><code>str</code></td>
        <td><p>Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</p></td>
        <td><code>&#39;mdi-tools&#39;</code></td>
      </tr>
      <tr>
        <td><code>close_icon</code></td>
        <td><code>str</code></td>
        <td><p>Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</p></td>
        <td><code>&#39;mdi-close&#39;</code></td>
      </tr>
      <tr>
        <td><code>background_color</code></td>
        <td><code>str</code></td>
        <td><p>Background color of the header. Defaults to "#f5f5f5".</p></td>
        <td><code>&#39;#f5f5f5&#39;</code></td>
      </tr>
      <tr>
        <td><code>label</code></td>
        <td><code>str</code></td>
        <td><p>Text label for the header. Defaults to "My Tools".</p></td>
        <td><code>&#39;My Tools&#39;</code></td>
      </tr>
      <tr>
        <td><code>height</code></td>
        <td><code>str</code></td>
        <td><p>Height of the header. Defaults to "40px".</p></td>
        <td><code>&#39;40px&#39;</code></td>
      </tr>
      <tr>
        <td><code>expanded</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the panel is expanded by default. Defaults to True.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional positional arguments for the parent class.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments for the parent class.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">widget</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">widget_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-tools&quot;</span><span class="p">,</span>
    <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
    <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;My Tools&quot;</span><span class="p">,</span>
    <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
    <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">host_map</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the CustomWidget.</span>

<span class="sd">    Args:</span>
<span class="sd">        widget (Optional[Union[widgets.Widget, List[widgets.Widget]]]): Initial widget(s) to display in the content box.</span>
<span class="sd">        widget_icon (str): Icon for the header. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">        close_icon (str): Icon for the close button. See https://pictogrammers.github.io/@mdi/font/2.0.46/ for available icons.</span>
<span class="sd">        background_color (str): Background color of the header. Defaults to &quot;#f5f5f5&quot;.</span>
<span class="sd">        label (str): Text label for the header. Defaults to &quot;My Tools&quot;.</span>
<span class="sd">        height (str): Height of the header. Defaults to &quot;40px&quot;.</span>
<span class="sd">        expanded (bool): Whether the panel is expanded by default. Defaults to True.</span>
<span class="sd">        *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Wrap content in a mutable VBox</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">host_map</span> <span class="o">=</span> <span class="n">host_map</span>
    <span class="k">if</span> <span class="n">widget</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">widget</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="n">widget</span><span class="p">]</span>

    <span class="c1"># Close icon button</span>
    <span class="n">close_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
        <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">small</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0&quot;</span><span class="p">,</span>
        <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;min-width: 24px; width: 24px;&quot;</span><span class="p">,</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">close_icon</span><span class="p">])],</span>
    <span class="p">)</span>
    <span class="n">close_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_close</span><span class="p">)</span>

    <span class="n">header</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelHeader</span><span class="p">(</span>
        <span class="n">style_</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; min-height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; background-color: </span><span class="si">{</span><span class="n">background_color</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">,</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span>
            <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;d-flex flex-grow-1 align-center&quot;</span><span class="p">,</span>
                <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">widget_icon</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ml-1&quot;</span><span class="p">),</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push title to center</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Html</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">label</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;text-subtitle-2&quot;</span><span class="p">),</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push close to right</span>
                    <span class="n">close_btn</span><span class="p">,</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>
                <span class="p">],</span>
            <span class="p">)</span>
        <span class="p">],</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">panel</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanel</span><span class="p">(</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span>
            <span class="n">header</span><span class="p">,</span>
            <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelContent</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="p">]),</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">panel</span><span class="p">],</span>
        <span class="n">v_model</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">expanded</span> <span class="k">else</span> <span class="p">[],</span>
        <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.CustomWidget.add_widget" class="doc doc-heading">
<code class="highlight language-python"><span class="n">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.CustomWidget.add_widget" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Adds a widget to the content box.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>widget</code></td>
        <td><code>widgets.Widget</code></td>
        <td><p>The widget to add to the content box.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds a widget to the content box.</span>

<span class="sd">    Args:</span>
<span class="sd">        widget (widgets.Widget): The widget to add to the content box.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">+=</span> <span class="p">(</span><span class="n">widget</span><span class="p">,)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.CustomWidget.remove_widget" class="doc doc-heading">
<code class="highlight language-python"><span class="n">remove_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.CustomWidget.remove_widget" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Removes a widget from the content box.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>widget</code></td>
        <td><code>widgets.Widget</code></td>
        <td><p>The widget to remove from the content box.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="p">:</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Removes a widget from the content box.</span>

<span class="sd">    Args:</span>
<span class="sd">        widget (widgets.Widget): The widget to remove from the content box.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
        <span class="n">w</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="n">w</span> <span class="o">!=</span> <span class="n">widget</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.CustomWidget.set_widgets" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widgets_list</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.CustomWidget.set_widgets" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Replaces all widgets in the content box.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>widgets_list</code></td>
        <td><code>List[widgets.Widget]</code></td>
        <td><p>A list of widgets to set as the content of the content box.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widgets_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Replaces all widgets in the content box.</span>

<span class="sd">    Args:</span>
<span class="sd">        widgets_list (List[widgets.Widget]): A list of widgets to set as the content of the content box.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">content_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">widgets_list</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="anymap.maplibre_widgets.LayerManagerWidget" class="doc doc-heading">
        <code>
LayerManagerWidget            (<span title="ipyvuetify.generated.ExpansionPanels.ExpansionPanels">ExpansionPanels</span>)
        </code>



<a href="#anymap.maplibre_widgets.LayerManagerWidget" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>A widget for managing map layers.</p>
<p>This widget provides controls for toggling the visibility, adjusting the opacity,
and removing layers from a map. It also includes a master toggle to turn all layers
on or off.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>m</code></td>
        <td><code>Map</code></td>
        <td><p>The map object to manage layers for.</p></td>
      </tr>
      <tr>
        <td><code>layer_items</code></td>
        <td><code>Dict[str, Dict[str, widgets.Widget]]</code></td>
        <td><p>A dictionary mapping layer names
to their corresponding control widgets (checkbox and slider).</p></td>
      </tr>
      <tr>
        <td><code>_building</code></td>
        <td><code>bool</code></td>
        <td><p>A flag indicating whether the widget is currently being built.</p></td>
      </tr>
      <tr>
        <td><code>master_toggle</code></td>
        <td><code>widgets.Checkbox</code></td>
        <td><p>A checkbox to toggle all layers on or off.</p></td>
      </tr>
      <tr>
        <td><code>layers_box</code></td>
        <td><code>widgets.VBox</code></td>
        <td><p>A container for individual layer controls.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">LayerManagerWidget</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanels</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A widget for managing map layers.</span>

<span class="sd">    This widget provides controls for toggling the visibility, adjusting the opacity,</span>
<span class="sd">    and removing layers from a map. It also includes a master toggle to turn all layers</span>
<span class="sd">    on or off.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        m (Map): The map object to manage layers for.</span>
<span class="sd">        layer_items (Dict[str, Dict[str, widgets.Widget]]): A dictionary mapping layer names</span>
<span class="sd">            to their corresponding control widgets (checkbox and slider).</span>
<span class="sd">        _building (bool): A flag indicating whether the widget is currently being built.</span>
<span class="sd">        master_toggle (widgets.Checkbox): A checkbox to toggle all layers on or off.</span>
<span class="sd">        layers_box (widgets.VBox): A container for individual layer controls.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">m</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
        <span class="n">layer_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-layers&quot;</span><span class="p">,</span>
        <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Layers&quot;</span><span class="p">,</span>
        <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
        <span class="n">groups</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the LayerManagerWidget.</span>

<span class="sd">        Args:</span>
<span class="sd">            m (Any): The map object to manage layers for.</span>
<span class="sd">            expanded (bool): Whether the expansion panel should be expanded by default. Defaults to True.</span>
<span class="sd">            height (str): The height of the header. Defaults to &quot;40px&quot;.</span>
<span class="sd">            layer_icon (str): The icon for the layer manager. Defaults to &quot;mdi-layers&quot;.</span>
<span class="sd">            close_icon (str): The icon for the close button. Defaults to &quot;mdi-close&quot;.</span>
<span class="sd">            label (str): The label for the layer manager. Defaults to &quot;Layers&quot;.</span>
<span class="sd">            background_color (str): The background color of the header. Defaults to &quot;#f5f5f5&quot;.</span>
<span class="sd">            groups (dict): A dictionary of layer groups, such as {&quot;Group 1&quot;: [&quot;layer1&quot;, &quot;layer2&quot;],</span>
<span class="sd">                &quot;Group 2&quot;: [&quot;layer3&quot;, &quot;layer4&quot;]}. A group layer toggle will be created for each group.</span>
<span class="sd">                Defaults to None.</span>
<span class="sd">            *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">            **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m</span> <span class="o">=</span> <span class="n">m</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">groups</span> <span class="o">=</span> <span class="n">groups</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_building</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># Master toggle</span>
        <span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;description_width&quot;</span><span class="p">:</span> <span class="s2">&quot;initial&quot;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master_toggle</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span>
            <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;All layers on/off&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master_toggle</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_all_layers</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">groups</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">group_name</span><span class="p">,</span> <span class="n">group_layers</span> <span class="ow">in</span> <span class="n">groups</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">group_toggle</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span>
                    <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                    <span class="n">description</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2"> group layers on/off&quot;</span><span class="p">,</span>
                    <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">group_toggle</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_group_layers</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span><span class="o">.</span><span class="n">children</span> <span class="o">+=</span> <span class="p">(</span><span class="n">group_toggle</span><span class="p">,)</span>

        <span class="c1"># Build individual layer rows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">build_layer_controls</span><span class="p">()</span>

        <span class="c1"># Close icon button</span>
        <span class="n">close_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
            <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">small</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0&quot;</span><span class="p">,</span>
            <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;min-width: 24px; width: 24px;&quot;</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">close_icon</span><span class="p">])],</span>
        <span class="p">)</span>
        <span class="n">close_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_close</span><span class="p">)</span>

        <span class="n">header</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelHeader</span><span class="p">(</span>
            <span class="n">style_</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; min-height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; background-color: </span><span class="si">{</span><span class="n">background_color</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                    <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                    <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;d-flex flex-grow-1 align-center&quot;</span><span class="p">,</span>
                    <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">layer_icon</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ml-1&quot;</span><span class="p">),</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push title to center</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Html</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">label</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;text-subtitle-2&quot;</span><span class="p">),</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push close to right</span>
                        <span class="n">close_btn</span><span class="p">,</span>
                        <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>
                    <span class="p">],</span>
                <span class="p">)</span>
            <span class="p">],</span>
        <span class="p">)</span>

        <span class="n">panel</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanel</span><span class="p">(</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                <span class="n">header</span><span class="p">,</span>
                <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelContent</span><span class="p">(</span>
                    <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                        <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">(</span>
                            <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">master_toggle</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="p">]</span>
                        <span class="p">)</span>
                    <span class="p">]</span>
                <span class="p">),</span>
            <span class="p">]</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">expanded</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
                <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">panel</span><span class="p">],</span> <span class="n">v_model</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">panel</span><span class="p">],</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_handle_close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calls the on_close callback if provided.&quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># self.close()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">build_layer_controls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Builds the controls for individual layers.</span>

<span class="sd">        This method creates checkboxes for toggling visibility, sliders for adjusting opacity,</span>
<span class="sd">        and buttons for removing layers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_building</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;description_width&quot;</span><span class="p">:</span> <span class="s2">&quot;initial&quot;</span><span class="p">}</span>
        <span class="n">padding</span> <span class="o">=</span> <span class="s2">&quot;0px 5px 0px 5px&quot;</span>

        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">info</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">layer_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="c1"># if name == &quot;Background&quot;:</span>
            <span class="c1">#     continue</span>

            <span class="n">visible</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;visible&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
            <span class="n">opacity</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;opacity&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>

            <span class="n">checkbox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">visible</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">)</span>
            <span class="n">checkbox</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">max_width</span> <span class="o">=</span> <span class="s2">&quot;150px&quot;</span>

            <span class="n">slider</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
                <span class="n">value</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span>
                <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="nb">max</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                <span class="n">step</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
                <span class="n">readout</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Change layer opacity&quot;</span><span class="p">,</span>
                <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;150px&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="n">settings</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
                <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;gear&quot;</span><span class="p">,</span>
                <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Change layer style&quot;</span><span class="p">,</span>
                <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;38px&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;25px&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="n">remove</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
                <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;times&quot;</span><span class="p">,</span>
                <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Remove layer&quot;</span><span class="p">,</span>
                <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;38px&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;25px&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">on_visibility_change</span><span class="p">(</span><span class="n">change</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_layer_visibility</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">])</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">on_opacity_change</span><span class="p">(</span><span class="n">change</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_layer_opacity</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">])</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">on_remove_clicked</span><span class="p">(</span><span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">row_ref</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">layer_name</span> <span class="o">==</span> <span class="s2">&quot;Background&quot;</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">get_style_layers</span><span class="p">():</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">add_call</span><span class="p">(</span><span class="s2">&quot;removeLayer&quot;</span><span class="p">,</span> <span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">remove_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">row_ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
                        <span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="n">row_ref</span>
                    <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                <span class="k">if</span> <span class="sa">f</span><span class="s2">&quot;Style </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Style </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="k">def</span><span class="w"> </span><span class="nf">on_settings_clicked</span><span class="p">(</span><span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">):</span>
                <span class="n">style_widget</span> <span class="o">=</span> <span class="n">LayerStyleWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">[</span><span class="n">layer_name</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">add_to_sidebar</span><span class="p">(</span>
                    <span class="n">style_widget</span><span class="p">,</span>
                    <span class="n">widget_icon</span><span class="o">=</span><span class="s2">&quot;mdi-palette&quot;</span><span class="p">,</span>
                    <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Style </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="p">)</span>

            <span class="n">checkbox</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">on_visibility_change</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
            <span class="n">slider</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">on_opacity_change</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

            <span class="n">row</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">(</span>
                <span class="p">[</span><span class="n">checkbox</span><span class="p">,</span> <span class="n">slider</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="n">remove</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">()</span>
            <span class="p">)</span>

            <span class="n">remove</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span>
                <span class="k">lambda</span> <span class="n">btn</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">name</span><span class="p">:</span> <span class="n">on_remove_clicked</span><span class="p">(</span>
                    <span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">row_ref</span><span class="o">=</span><span class="n">r</span>
                <span class="p">)</span>
            <span class="p">)</span>

            <span class="n">settings</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span>
                <span class="k">lambda</span> <span class="n">btn</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">name</span><span class="p">:</span> <span class="n">on_settings_clicked</span><span class="p">(</span><span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
            <span class="p">)</span>

            <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;checkbox&quot;</span><span class="p">:</span> <span class="n">checkbox</span><span class="p">,</span> <span class="s2">&quot;slider&quot;</span><span class="p">:</span> <span class="n">slider</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">rows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_building</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">toggle_all_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggles the visibility of all layers.</span>

<span class="sd">        Args:</span>
<span class="sd">            change (Dict[str, Any]): The change event from the master toggle checkbox.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_building</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">controls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">controls</span><span class="p">[</span><span class="s2">&quot;checkbox&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">toggle_group_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Toggles the visibility of a group of layers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_building</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">group_name</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;owner&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">group_layers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="n">group_name</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">layer_name</span> <span class="ow">in</span> <span class="n">group_layers</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_layer_visibility</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_layer_visibility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">visible</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the visibility of a specific layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): The name of the layer.</span>
<span class="sd">            visible (bool): Whether the layer should be visible.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">set_visibility</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">visible</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">set_layer_opacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">opacity</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the opacity of a specific layer.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): The name of the layer.</span>
<span class="sd">            opacity (float): The opacity value (0 to 1).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">set_opacity</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Rebuilds the UI to reflect the current layers in the map.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">build_layer_controls</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.LayerManagerWidget.__init__" class="doc doc-heading">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">expanded</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;40px&#39;</span><span class="p">,</span> <span class="n">layer_icon</span><span class="o">=</span><span class="s1">&#39;mdi-layers&#39;</span><span class="p">,</span> <span class="n">close_icon</span><span class="o">=</span><span class="s1">&#39;mdi-close&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Layers&#39;</span><span class="p">,</span> <span class="n">background_color</span><span class="o">=</span><span class="s1">&#39;#f5f5f5&#39;</span><span class="p">,</span> <span class="n">groups</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#anymap.maplibre_widgets.LayerManagerWidget.__init__" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Initializes the LayerManagerWidget.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>m</code></td>
        <td><code>Any</code></td>
        <td><p>The map object to manage layers for.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>expanded</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the expansion panel should be expanded by default. Defaults to True.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>height</code></td>
        <td><code>str</code></td>
        <td><p>The height of the header. Defaults to "40px".</p></td>
        <td><code>&#39;40px&#39;</code></td>
      </tr>
      <tr>
        <td><code>layer_icon</code></td>
        <td><code>str</code></td>
        <td><p>The icon for the layer manager. Defaults to "mdi-layers".</p></td>
        <td><code>&#39;mdi-layers&#39;</code></td>
      </tr>
      <tr>
        <td><code>close_icon</code></td>
        <td><code>str</code></td>
        <td><p>The icon for the close button. Defaults to "mdi-close".</p></td>
        <td><code>&#39;mdi-close&#39;</code></td>
      </tr>
      <tr>
        <td><code>label</code></td>
        <td><code>str</code></td>
        <td><p>The label for the layer manager. Defaults to "Layers".</p></td>
        <td><code>&#39;Layers&#39;</code></td>
      </tr>
      <tr>
        <td><code>background_color</code></td>
        <td><code>str</code></td>
        <td><p>The background color of the header. Defaults to "#f5f5f5".</p></td>
        <td><code>&#39;#f5f5f5&#39;</code></td>
      </tr>
      <tr>
        <td><code>groups</code></td>
        <td><code>dict</code></td>
        <td><p>A dictionary of layer groups, such as {"Group 1": ["layer1", "layer2"],
"Group 2": ["layer3", "layer4"]}. A group layer toggle will be created for each group.
Defaults to None.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>*args</code></td>
        <td><code>Any</code></td>
        <td><p>Additional positional arguments for the parent class.</p></td>
        <td><code>()</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Additional keyword arguments for the parent class.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">m</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">expanded</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;40px&quot;</span><span class="p">,</span>
    <span class="n">layer_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-layers&quot;</span><span class="p">,</span>
    <span class="n">close_icon</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;mdi-close&quot;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Layers&quot;</span><span class="p">,</span>
    <span class="n">background_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
    <span class="n">groups</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initializes the LayerManagerWidget.</span>

<span class="sd">    Args:</span>
<span class="sd">        m (Any): The map object to manage layers for.</span>
<span class="sd">        expanded (bool): Whether the expansion panel should be expanded by default. Defaults to True.</span>
<span class="sd">        height (str): The height of the header. Defaults to &quot;40px&quot;.</span>
<span class="sd">        layer_icon (str): The icon for the layer manager. Defaults to &quot;mdi-layers&quot;.</span>
<span class="sd">        close_icon (str): The icon for the close button. Defaults to &quot;mdi-close&quot;.</span>
<span class="sd">        label (str): The label for the layer manager. Defaults to &quot;Layers&quot;.</span>
<span class="sd">        background_color (str): The background color of the header. Defaults to &quot;#f5f5f5&quot;.</span>
<span class="sd">        groups (dict): A dictionary of layer groups, such as {&quot;Group 1&quot;: [&quot;layer1&quot;, &quot;layer2&quot;],</span>
<span class="sd">            &quot;Group 2&quot;: [&quot;layer3&quot;, &quot;layer4&quot;]}. A group layer toggle will be created for each group.</span>
<span class="sd">            Defaults to None.</span>
<span class="sd">        *args (Any): Additional positional arguments for the parent class.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments for the parent class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">m</span> <span class="o">=</span> <span class="n">m</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">groups</span> <span class="o">=</span> <span class="n">groups</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_building</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Master toggle</span>
    <span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;description_width&quot;</span><span class="p">:</span> <span class="s2">&quot;initial&quot;</span><span class="p">}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">master_toggle</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span>
        <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;All layers on/off&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">master_toggle</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_all_layers</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">groups</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">group_name</span><span class="p">,</span> <span class="n">group_layers</span> <span class="ow">in</span> <span class="n">groups</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">group_toggle</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span>
                <span class="n">value</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">group_name</span><span class="si">}</span><span class="s2"> group layers on/off&quot;</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">group_toggle</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toggle_group_layers</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span><span class="o">.</span><span class="n">children</span> <span class="o">+=</span> <span class="p">(</span><span class="n">group_toggle</span><span class="p">,)</span>

    <span class="c1"># Build individual layer rows</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">build_layer_controls</span><span class="p">()</span>

    <span class="c1"># Close icon button</span>
    <span class="n">close_btn</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">Btn</span><span class="p">(</span>
        <span class="n">icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">small</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ma-0&quot;</span><span class="p">,</span>
        <span class="n">style_</span><span class="o">=</span><span class="s2">&quot;min-width: 24px; width: 24px;&quot;</span><span class="p">,</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">close_icon</span><span class="p">])],</span>
    <span class="p">)</span>
    <span class="n">close_btn</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_close</span><span class="p">)</span>

    <span class="n">header</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelHeader</span><span class="p">(</span>
        <span class="n">style_</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; min-height: </span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s2">; background-color: </span><span class="si">{</span><span class="n">background_color</span><span class="si">}</span><span class="s2">;&quot;</span><span class="p">,</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span>
            <span class="n">v</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
                <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>
                <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;d-flex flex-grow-1 align-center&quot;</span><span class="p">,</span>
                <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">layer_icon</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;ml-1&quot;</span><span class="p">),</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push title to center</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Html</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="s2">&quot;span&quot;</span><span class="p">,</span> <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">label</span><span class="p">],</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;text-subtitle-2&quot;</span><span class="p">),</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>  <span class="c1"># push close to right</span>
                    <span class="n">close_btn</span><span class="p">,</span>
                    <span class="n">v</span><span class="o">.</span><span class="n">Spacer</span><span class="p">(),</span>
                <span class="p">],</span>
            <span class="p">)</span>
        <span class="p">],</span>
    <span class="p">)</span>

    <span class="n">panel</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanel</span><span class="p">(</span>
        <span class="n">children</span><span class="o">=</span><span class="p">[</span>
            <span class="n">header</span><span class="p">,</span>
            <span class="n">v</span><span class="o">.</span><span class="n">ExpansionPanelContent</span><span class="p">(</span>
                <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                    <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">(</span>
                        <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">master_toggle</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="p">]</span>
                    <span class="p">)</span>
                <span class="p">]</span>
            <span class="p">),</span>
        <span class="p">]</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">expanded</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">panel</span><span class="p">],</span> <span class="n">v_model</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">panel</span><span class="p">],</span> <span class="n">multiple</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.LayerManagerWidget.build_layer_controls" class="doc doc-heading">
<code class="highlight language-python"><span class="n">build_layer_controls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.LayerManagerWidget.build_layer_controls" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Builds the controls for individual layers.</p>
<p>This method creates checkboxes for toggling visibility, sliders for adjusting opacity,
and buttons for removing layers.</p>

        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">build_layer_controls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Builds the controls for individual layers.</span>

<span class="sd">    This method creates checkboxes for toggling visibility, sliders for adjusting opacity,</span>
<span class="sd">    and buttons for removing layers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_building</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;description_width&quot;</span><span class="p">:</span> <span class="s2">&quot;initial&quot;</span><span class="p">}</span>
    <span class="n">padding</span> <span class="o">=</span> <span class="s2">&quot;0px 5px 0px 5px&quot;</span>

    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">info</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">layer_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="c1"># if name == &quot;Background&quot;:</span>
        <span class="c1">#     continue</span>

        <span class="n">visible</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;visible&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
        <span class="n">opacity</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;opacity&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>

        <span class="n">checkbox</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Checkbox</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">visible</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">)</span>
        <span class="n">checkbox</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">max_width</span> <span class="o">=</span> <span class="s2">&quot;150px&quot;</span>

        <span class="n">slider</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
            <span class="n">value</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span>
            <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="nb">max</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="n">step</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
            <span class="n">readout</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Change layer opacity&quot;</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;150px&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="n">settings</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
            <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;gear&quot;</span><span class="p">,</span>
            <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Change layer style&quot;</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;38px&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;25px&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="n">remove</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
            <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;times&quot;</span><span class="p">,</span>
            <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Remove layer&quot;</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;38px&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;25px&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="n">padding</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">on_visibility_change</span><span class="p">(</span><span class="n">change</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_layer_visibility</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">])</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">on_opacity_change</span><span class="p">(</span><span class="n">change</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_layer_opacity</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">])</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">on_remove_clicked</span><span class="p">(</span><span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">row_ref</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">layer_name</span> <span class="o">==</span> <span class="s2">&quot;Background&quot;</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">get_style_layers</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">add_call</span><span class="p">(</span><span class="s2">&quot;removeLayer&quot;</span><span class="p">,</span> <span class="n">layer</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">remove_layer</span><span class="p">(</span><span class="n">layer_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">row_ref</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span>
                    <span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span> <span class="k">if</span> <span class="n">c</span> <span class="o">!=</span> <span class="n">row_ref</span>
                <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="sa">f</span><span class="s2">&quot;Style </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">sidebar_widgets</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Style </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">on_settings_clicked</span><span class="p">(</span><span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">name</span><span class="p">):</span>
            <span class="n">style_widget</span> <span class="o">=</span> <span class="n">LayerStyleWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">layer_dict</span><span class="p">[</span><span class="n">layer_name</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">add_to_sidebar</span><span class="p">(</span>
                <span class="n">style_widget</span><span class="p">,</span>
                <span class="n">widget_icon</span><span class="o">=</span><span class="s2">&quot;mdi-palette&quot;</span><span class="p">,</span>
                <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Style </span><span class="si">{</span><span class="n">layer_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">checkbox</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">on_visibility_change</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
        <span class="n">slider</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">on_opacity_change</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>

        <span class="n">row</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">(</span>
            <span class="p">[</span><span class="n">checkbox</span><span class="p">,</span> <span class="n">slider</span><span class="p">,</span> <span class="n">settings</span><span class="p">,</span> <span class="n">remove</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="n">remove</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">btn</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">name</span><span class="p">:</span> <span class="n">on_remove_clicked</span><span class="p">(</span>
                <span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">row_ref</span><span class="o">=</span><span class="n">r</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">settings</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">btn</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">name</span><span class="p">:</span> <span class="n">on_settings_clicked</span><span class="p">(</span><span class="n">btn</span><span class="p">,</span> <span class="n">layer_name</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;checkbox&quot;</span><span class="p">:</span> <span class="n">checkbox</span><span class="p">,</span> <span class="s2">&quot;slider&quot;</span><span class="p">:</span> <span class="n">slider</span><span class="p">}</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">layers_box</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="n">rows</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_building</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.LayerManagerWidget.refresh" class="doc doc-heading">
<code class="highlight language-python"><span class="n">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.LayerManagerWidget.refresh" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Rebuilds the UI to reflect the current layers in the map.</p>

        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Rebuilds the UI to reflect the current layers in the map.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">build_layer_controls</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.LayerManagerWidget.set_layer_opacity" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_layer_opacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.LayerManagerWidget.set_layer_opacity" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Sets the opacity of a specific layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>opacity</code></td>
        <td><code>float</code></td>
        <td><p>The opacity value (0 to 1).</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_layer_opacity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">opacity</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the opacity of a specific layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): The name of the layer.</span>
<span class="sd">        opacity (float): The opacity value (0 to 1).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">set_opacity</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">opacity</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.LayerManagerWidget.set_layer_visibility" class="doc doc-heading">
<code class="highlight language-python"><span class="n">set_layer_visibility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">visible</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.LayerManagerWidget.set_layer_visibility" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Sets the visibility of a specific layer.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the layer.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>visible</code></td>
        <td><code>bool</code></td>
        <td><p>Whether the layer should be visible.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_layer_visibility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">visible</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the visibility of a specific layer.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): The name of the layer.</span>
<span class="sd">        visible (bool): Whether the layer should be visible.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">set_visibility</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">visible</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.LayerManagerWidget.toggle_all_layers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">toggle_all_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.LayerManagerWidget.toggle_all_layers" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Toggles the visibility of all layers.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>change</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>The change event from the master toggle checkbox.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">toggle_all_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Toggles the visibility of all layers.</span>

<span class="sd">    Args:</span>
<span class="sd">        change (Dict[str, Any]): The change event from the master toggle checkbox.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_building</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">controls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_items</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">controls</span><span class="p">[</span><span class="s2">&quot;checkbox&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">group_toggles</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="anymap.maplibre_widgets.LayerManagerWidget.toggle_group_layers" class="doc doc-heading">
<code class="highlight language-python"><span class="n">toggle_group_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">)</span></code>


<a href="#anymap.maplibre_widgets.LayerManagerWidget.toggle_group_layers" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Toggles the visibility of a group of layers.</p>

        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">toggle_group_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">change</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Toggles the visibility of a group of layers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_building</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">group_name</span> <span class="o">=</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;owner&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">group_layers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="n">group_name</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">layer_name</span> <span class="ow">in</span> <span class="n">group_layers</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_layer_visibility</span><span class="p">(</span><span class="n">layer_name</span><span class="p">,</span> <span class="n">change</span><span class="p">[</span><span class="s2">&quot;new&quot;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="anymap.maplibre_widgets.LayerStyleWidget" class="doc doc-heading">
        <code>
LayerStyleWidget            (<span title="ipywidgets.widgets.widget_box.VBox">VBox</span>)
        </code>



<a href="#anymap.maplibre_widgets.LayerStyleWidget" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>A widget for styling map layers interactively.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>layer</code></td>
        <td><code>dict</code></td>
        <td><p>The layer to style.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>map_widget</code></td>
        <td><code>ipyleaflet.Map or folium.Map</code></td>
        <td><p>The map widget to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>widget_width</code></td>
        <td><code>str</code></td>
        <td><p>The width of the widget. Defaults to "270px".</p></td>
        <td><code>&#39;270px&#39;</code></td>
      </tr>
      <tr>
        <td><code>label_width</code></td>
        <td><code>str</code></td>
        <td><p>The width of the label. Defaults to "130px".</p></td>
        <td><code>&#39;130px&#39;</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>anymap/maplibre_widgets.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">LayerStyleWidget</span><span class="p">(</span><span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A widget for styling map layers interactively.</span>

<span class="sd">    Args:</span>
<span class="sd">        layer (dict): The layer to style.</span>
<span class="sd">        map_widget (ipyleaflet.Map or folium.Map): The map widget to update.</span>
<span class="sd">        widget_width (str, optional): The width of the widget. Defaults to &quot;270px&quot;.</span>
<span class="sd">        label_width (str, optional): The width of the label. Defaults to &quot;130px&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">layer</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
        <span class="n">map_widget</span><span class="p">:</span> <span class="s2">&quot;MapLibreMap&quot;</span><span class="p">,</span>
        <span class="n">widget_width</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;270px&quot;</span><span class="p">,</span>
        <span class="n">label_width</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;130px&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer</span> <span class="o">=</span> <span class="n">layer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">map_widget</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_layer_type</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_id</span> <span class="o">=</span> <span class="n">layer</span><span class="p">[</span><span class="s2">&quot;layer&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layer_paint</span> <span class="o">=</span> <span class="n">layer</span><span class="p">[</span><span class="s2">&quot;layer&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">paint</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">original_style</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_current_style</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">widget_width</span> <span class="o">=</span> <span class="n">widget_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label_width</span> <span class="o">=</span> <span class="n">label_width</span>

        <span class="c1"># Create the styling widgets based on layer type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">style_widgets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_style_widgets</span><span class="p">()</span>

        <span class="c1"># Create buttons</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_btn</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Apply&quot;</span><span class="p">,</span>
            <span class="n">button_style</span><span class="o">=</span><span class="s2">&quot;primary&quot;</span><span class="p">,</span>
            <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Apply style changes&quot;</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">reset_btn</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Reset&quot;</span><span class="p">,</span>
            <span class="n">button_style</span><span class="o">=</span><span class="s2">&quot;warning&quot;</span><span class="p">,</span>
            <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Reset to original style&quot;</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">close_btn</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Close&quot;</span><span class="p">,</span>
            <span class="n">button_style</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="n">tooltip</span><span class="o">=</span><span class="s2">&quot;Close the widget&quot;</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">output_widget</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Output</span><span class="p">()</span>

        <span class="c1"># Button container</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">button_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">apply_btn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">reset_btn</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">close_btn</span><span class="p">])</span>

        <span class="c1"># Add button callbacks</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_btn</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_apply_style</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset_btn</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_reset_style</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close_btn</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_close_widget</span><span class="p">)</span>

        <span class="c1"># Layout</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s2">&quot;300px&quot;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="s2">&quot;10px&quot;</span><span class="p">)</span>

        <span class="c1"># Combine all widgets</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">style_widgets</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">button_box</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_widget</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_layer_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Determine the layer type.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_current_style</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the current layer style.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_paint</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_style_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">Widget</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create style widgets based on layer type.&quot;&quot;&quot;</span>
        <span class="n">widgets_list</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_type</span> <span class="o">==</span> <span class="s2">&quot;circle&quot;</span><span class="p">:</span>
            <span class="n">widgets_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_color_picker</span><span class="p">(</span>
                        <span class="s2">&quot;Circle Color&quot;</span><span class="p">,</span> <span class="s2">&quot;circle-color&quot;</span><span class="p">,</span> <span class="s2">&quot;#3388ff&quot;</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span>
                        <span class="s2">&quot;Circle Radius&quot;</span><span class="p">,</span> <span class="s2">&quot;circle-radius&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">20</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span>
                        <span class="s2">&quot;Circle Opacity&quot;</span><span class="p">,</span> <span class="s2">&quot;circle-opacity&quot;</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.05</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span>
                        <span class="s2">&quot;Circle Blur&quot;</span><span class="p">,</span> <span class="s2">&quot;circle-blur&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.05</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_color_picker</span><span class="p">(</span>
                        <span class="s2">&quot;Circle Stroke Color&quot;</span><span class="p">,</span> <span class="s2">&quot;circle-stroke-color&quot;</span><span class="p">,</span> <span class="s2">&quot;#3388ff&quot;</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span>
                        <span class="s2">&quot;Circle Stroke Width&quot;</span><span class="p">,</span> <span class="s2">&quot;circle-stroke-width&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span>
                        <span class="s2">&quot;Circle Stroke Opacity&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;circle-stroke-opacity&quot;</span><span class="p">,</span>
                        <span class="mf">1.0</span><span class="p">,</span>
                        <span class="mi">0</span><span class="p">,</span>
                        <span class="mi">1</span><span class="p">,</span>
                        <span class="mf">0.05</span><span class="p">,</span>
                    <span class="p">),</span>
                <span class="p">]</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_type</span> <span class="o">==</span> <span class="s2">&quot;line&quot;</span><span class="p">:</span>
            <span class="n">widgets_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_color_picker</span><span class="p">(</span><span class="s2">&quot;Line Color&quot;</span><span class="p">,</span> <span class="s2">&quot;line-color&quot;</span><span class="p">,</span> <span class="s2">&quot;#3388ff&quot;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span><span class="s2">&quot;Line Width&quot;</span><span class="p">,</span> <span class="s2">&quot;line-width&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span>
                        <span class="s2">&quot;Line Opacity&quot;</span><span class="p">,</span> <span class="s2">&quot;line-opacity&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.05</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span><span class="s2">&quot;Line Blur&quot;</span><span class="p">,</span> <span class="s2">&quot;line-blur&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_dropdown</span><span class="p">(</span>
                        <span class="s2">&quot;Line Style&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;line-dasharray&quot;</span><span class="p">,</span>
                        <span class="p">[</span>
                            <span class="p">(</span><span class="s2">&quot;Solid&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                            <span class="p">(</span><span class="s2">&quot;Dashed&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span>
                            <span class="p">(</span><span class="s2">&quot;Dotted&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span>
                            <span class="p">(</span><span class="s2">&quot;Dash-dot&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span>
                        <span class="p">],</span>
                    <span class="p">),</span>
                <span class="p">]</span>
            <span class="p">)</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">layer_type</span> <span class="o">==</span> <span class="s2">&quot;fill&quot;</span><span class="p">:</span>
            <span class="n">widgets_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_color_picker</span><span class="p">(</span><span class="s2">&quot;Fill Color&quot;</span><span class="p">,</span> <span class="s2">&quot;fill-color&quot;</span><span class="p">,</span> <span class="s2">&quot;#3388ff&quot;</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_number_slider</span><span class="p">(</span>
                        <span class="s2">&quot;Fill Opacity&quot;</span><span class="p">,</span> <span class="s2">&quot;fill-opacity&quot;</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.05</span>
                    <span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_create_color_picker</span><span class="p">(</span>
                        <span class="s2">&quot;Fill Outline Color&quot;</span><span class="p">,</span> <span class="s2">&quot;fill-outline-color&quot;</span><span class="p">,</span> <span class="s2">&quot;#3388ff&quot;</span>
                    <span class="p">),</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">widgets_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
                <span class="p">[</span><span class="n">widgets</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Layer type </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">layer_type</span><span class="si">}</span><span class="s2"> is not supported.&quot;</span><span class="p">)]</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">widgets_list</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_color_picker</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">property_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">default_color</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">widgets</span><span class="o">.</span><span class="n">ColorPicker</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a color picker widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">widgets</span><span class="o">.</span><span class="n">ColorPicker</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">original_style</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">property_name</span><span class="p">,</span> <span class="n">default_color</span><span class="p">),</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
                <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_width</span><span class="p">,</span> <span class="n">description_width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">label_width</span>
            <span class="p">),</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;description_width&quot;</span><span class="p">:</span> <span class="s2">&quot;initial&quot;</span><span class="p">},</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_number_slider</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">property_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">default_value</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">min_val</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">max_val</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">step</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a number slider widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">original_style</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">property_name</span><span class="p">,</span> <span class="n">default_value</span><span class="p">),</span>
            <span class="nb">min</span><span class="o">=</span><span class="n">min_val</span><span class="p">,</span>
            <span class="nb">max</span><span class="o">=</span><span class="n">max_val</span><span class="p">,</span>
            <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
                <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_width</span><span class="p">,</span> <span class="n">description_width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">label_width</span>
            <span class="p">),</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;description_width&quot;</span><span class="p">:</span> <span class="s2">&quot;initial&quot;</span><span class="p">},</span>
            <span class="n">continuous_update</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_create_dropdown</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">property_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create a dropdown widget.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span>
            <span class="n">value</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">original_style</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">property_name</span><span class="p">,</span> <span class="n">options</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]),</span>
            <span class="n">layout</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
                <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">widget_width</span><span class="p">,</span> <span class="n">description_width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">label_width</span>
            <span class="p">),</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;description_width&quot;</span><span class="p">:</span> <span class="s2">&quot;initial&quot;</span><span class="p">},</span>
        <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_apply_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply the style changes to the layer.&quot;&quot;&quot;</span>
        <span class="n">new_style</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">style_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">widgets</span><span class="o">.</span><span class="n">ColorPicker</span><span class="p">):</span>
                <span class="n">property_name</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
                <span class="n">new_style</span><span class="p">[</span><span class="n">property_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">value</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">):</span>
                <span class="n">property_name</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
                <span class="n">new_style</span><span class="p">[</span><span class="n">property_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">value</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">):</span>
                <span class="n">property_name</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
                <span class="n">new_style</span><span class="p">[</span><span class="n">property_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">value</span>

        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_widget</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">new_style</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s2">&quot;line-style&quot;</span><span class="p">:</span>
                        <span class="n">key</span> <span class="o">=</span> <span class="s2">&quot;line-dasharray&quot;</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="o">.</span><span class="n">set_paint_property</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layer</span><span class="p">[</span><span class="s2">&quot;layer&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="o">.</span><span class="n">layer_manager</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_reset_style</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reset to original style.&quot;&quot;&quot;</span>

        <span class="c1"># Update widgets to reflect original style</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">style_widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span>
                <span class="n">widget</span><span class="p">,</span> <span class="p">(</span><span class="n">widgets</span><span class="o">.</span><span class="n">ColorPicker</span><span class="p">,</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">,</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="n">property_name</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">property_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_style</span><span class="p">:</span>
                    <span class="n">widget</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_style</span><span class="p">[</span><span class="n">property_name</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_close_widget</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the widget.&quot;&quot;&quot;</span>
        <span class="c1"># self.close()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">map</span><span class="o">.</span><span class="n">remove_from_sidebar</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Style </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">layer</span><span class="p">[</span><span class="s1">&#39;layer&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">












  </div>

    </div>

  </div>







  </div>

    </div>

  </div>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="July 6, 2025 21:27:46 UTC"><span class="timeago" datetime="2025-07-06T21:27:46+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="July 6, 2025 21:27:46 UTC">2025-07-06</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="July 6, 2025 21:27:46 UTC"><span class="timeago" datetime="2025-07-06T21:27:46+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="July 6, 2025 21:27:46 UTC">2025-07-06</span>
  </span>

    
    
    
  </aside>





                

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 - 2025 Qiusheng Wu
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.top", "search.highlight", "search.share"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="../js/timeago.min.js"></script>
      
        <script src="../js/timeago_mkdocs_material.js"></script>
      
    
  </body>
</html>